<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Assignment 2 by Félix Báez-Santiago and Gloria Zhou</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="assignment2_bz_files/libs/clipboard/clipboard.min.js"></script>
<script src="assignment2_bz_files/libs/quarto-html/quarto.js"></script>
<script src="assignment2_bz_files/libs/quarto-html/popper.min.js"></script>
<script src="assignment2_bz_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="assignment2_bz_files/libs/quarto-html/anchor.min.js"></script>
<link href="assignment2_bz_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="assignment2_bz_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="assignment2_bz_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="assignment2_bz_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="assignment2_bz_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Assignment 2 by Félix Báez-Santiago and Gloria Zhou</h1>
<p class="subtitle lead">Due at 11:59pm on October 1.</p>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="section" class="level2">
<h2 class="anchored" data-anchor-id="section"></h2>
<p>You may work in pairs or individually for this assignment. Make sure you join a group in Canvas if you are working in pairs. Turn in this assignment as an HTML or PDF file to ELMS. Make sure to include the R Markdown or Quarto file that was used to generate it.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gtrendsR)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(censusapi)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>In this assignment, you will pull from APIs to get data from various data sources and use your data wrangling skills to use them all together. You should turn in a report in PDF or HTML format that addresses all of the questions in this assignment, and describes the data that you pulled and analyzed. You do not need to include full introduction and conclusion sections like a full report, but you should make sure to answer the questions in paragraph form, and include all relevant tables and graphics.</p>
<p>Whenever possible, use piping and <code>dplyr</code>. Avoid hard-coding any numbers within the report as much as possible.</p>
</section>
<section id="pulling-from-apis" class="level2">
<h2 class="anchored" data-anchor-id="pulling-from-apis">Pulling from APIs</h2>
<p>Our first data source is the Google Trends API. Suppose we are interested in the search trends for <code>crime</code> and <code>loans</code> in Illinois in the year 2020. We could find this using the following code:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>res <span class="ot">&lt;-</span> <span class="fu">gtrends</span>(<span class="fu">c</span>(<span class="st">"crime"</span>, <span class="st">"loans"</span>), </span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>               <span class="at">geo =</span> <span class="st">"US-IL"</span>, </span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>               <span class="at">time =</span> <span class="st">"2020-01-01 2020-12-31"</span>, </span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>               <span class="at">low_search_volume =</span> <span class="cn">TRUE</span>)</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(res)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="assignment2_bz_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>interest_over_time <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(res<span class="sc">$</span>interest_over_time)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>interest_by_dma <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(res<span class="sc">$</span>interest_by_dma)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>interest_by_city <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(res<span class="sc">$</span>interest_by_city)</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(interest_over_time)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>        date hits keyword   geo                  time gprop category
1 2019-12-29   56   crime US-IL 2020-01-01 2020-12-31   web        0
2 2020-01-05   57   crime US-IL 2020-01-01 2020-12-31   web        0
3 2020-01-12   56   crime US-IL 2020-01-01 2020-12-31   web        0
4 2020-01-19   54   crime US-IL 2020-01-01 2020-12-31   web        0
5 2020-01-26   52   crime US-IL 2020-01-01 2020-12-31   web        0
6 2020-02-02   54   crime US-IL 2020-01-01 2020-12-31   web        0</code></pre>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(interest_by_dma)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                            location hits keyword   geo gprop
1                        Rockford IL  100   crime US-IL   web
2                         Chicago IL  100   crime US-IL   web
3                       St. Louis MO   97   crime US-IL   web
4    Quincy IL-Hannibal MO-Keokuk IA   92   crime US-IL   web
5 Champaign &amp; Springfield-Decatur IL   90   crime US-IL   web
6              Peoria-Bloomington IL   89   crime US-IL   web</code></pre>
</div>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(interest_by_city)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      location hits keyword   geo gprop
1 Morton Grove  100   crime US-IL   web
2      Lebanon  100   crime US-IL   web
3         Anna   95   crime US-IL   web
4  Bunker Hill   83   crime US-IL   web
5   Streamwood   78   crime US-IL   web
6        Byron   78   crime US-IL   web</code></pre>
</div>
</div>
<p>Answer the following questions for the keywords “crime” and “loans”.</p>
<ul>
<li>Find the mean, median and variance of the search hits for the keywords.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>interest_over_time <span class="sc">%&gt;%</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">na.omit</span>() <span class="sc">%&gt;%</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(keyword) <span class="sc">%&gt;%</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">search_hits_mean =</span> <span class="fu">mean</span>(hits),</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">search_hits_median =</span> <span class="fu">median</span>(hits),</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">search_hits_variance =</span> <span class="fu">var</span>(hits)</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 4
  keyword search_hits_mean search_hits_median search_hits_variance
  &lt;chr&gt;              &lt;dbl&gt;              &lt;int&gt;                &lt;dbl&gt;
1 crime               51.1                 50                 85.5
2 loans               62.2                 60                 96.6</code></pre>
</div>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>interest_by_dma <span class="sc">%&gt;%</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">na.omit</span>() <span class="sc">%&gt;%</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(keyword) <span class="sc">%&gt;%</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">search_hits_mean =</span> <span class="fu">mean</span>(hits),</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">search_hits_median =</span> <span class="fu">median</span>(hits),</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">search_hits_variance =</span> <span class="fu">var</span>(hits)</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 4
  keyword search_hits_mean search_hits_median search_hits_variance
  &lt;chr&gt;              &lt;dbl&gt;              &lt;dbl&gt;                &lt;dbl&gt;
1 crime               88.4               89.5                 82.0
2 loans               82.8               81                   77.5</code></pre>
</div>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>interest_by_city <span class="sc">%&gt;%</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">na.omit</span>() <span class="sc">%&gt;%</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(keyword) <span class="sc">%&gt;%</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">search_hits_mean =</span> <span class="fu">mean</span>(hits),</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">search_hits_median =</span> <span class="fu">median</span>(hits),</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">search_hits_variance =</span> <span class="fu">var</span>(hits)</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 4
  keyword search_hits_mean search_hits_median search_hits_variance
  &lt;chr&gt;              &lt;dbl&gt;              &lt;dbl&gt;                &lt;dbl&gt;
1 crime               67.8                 62                200. 
2 loans               66.9                 65                 98.0</code></pre>
</div>
</div>
<p><em>Within <code>interest_over_time</code>, the mean of <code>crim</code> is 56.887 and the median is 57, with the variance of 85.295; while the mean of <code>loans</code> is 68.906 and the median is 66, with the variance of 105.241. Within <code>interest_by_dma</code>, the mean of <code>crim</code> is 85.8 and the median is 87.0, with the variance of 75.733; while the mean of <code>loans</code> is 82.3 and the median is 80.5, with the variance of 81.789. Within <code>interest_by_city</code>, the mean of <code>crim</code> is 65.821 and the median is 61, with the variance of 151.625; while the mean of <code>loans</code> is 59.556 and the median is 57, with the variance of 97.454.</em></p>
<ul>
<li><p>Which cities (locations) have the highest search frequency for <code>loans</code>? Note that there might be multiple rows for each city if there were hits for both “crime” and “loans” in that city. It might be easier to answer this question if we had the search hits info for both search terms in two separate variables. That is, each row would represent a unique city.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>highest_search_frequency <span class="ot">&lt;-</span> interest_by_city <span class="sc">%&gt;%</span> <span class="co"># search in city dataset</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">na.omit</span>() <span class="sc">%&gt;%</span> <span class="co"># remove null values</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(keyword <span class="sc">==</span> <span class="st">"loans"</span>) <span class="sc">%&gt;%</span> <span class="co"># filter for only rows searches for loans</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">transmute</span>(</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>    location,</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">freq =</span> hits <span class="sc">/</span> <span class="fu">sum</span>(hits)</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> <span class="co">#  select city and create frequency variable</span></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(freq)) <span class="co"># arrange in descending order of search frequency </span></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(highest_search_frequency, <span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>             location       freq
1           Long Lake 0.03932363
2            Rosemont 0.03342509
3             Robbins 0.03185214
4        Ford Heights 0.03145891
5    East Saint Louis 0.03145891
6           Coal City 0.03106567
7              Dolton 0.02988596
8  South Jacksonville 0.02949273
9           Riverdale 0.02909949
10        Hazel Crest 0.02831302</code></pre>
</div>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(highest_search_frequency, </span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(location, <span class="sc">-</span>freq), </span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> freq)) <span class="sc">+</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">fill =</span> <span class="st">"steelblue"</span>) <span class="sc">+</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"City in Illinois (Location)"</span>, </span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Search Frequency for Loan"</span>, </span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">"Which cities have the highest search frequency for loans?"</span>) <span class="sc">+</span></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="assignment2_bz_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><em>Long Lake has the highest search frequency for <code>loans</code>.</em></p></li>
<li><p>Is there a relationship between the search intensities between the two keywords we used?</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>correlation <span class="ot">&lt;-</span> <span class="fu">cor</span>(interest_over_time<span class="sc">$</span>hits[interest_over_time<span class="sc">$</span>keyword <span class="sc">==</span> <span class="st">"crime"</span>],</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>                   interest_over_time<span class="sc">$</span>hits[interest_over_time<span class="sc">$</span>keyword <span class="sc">==</span> <span class="st">"loans"</span>])</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(correlation,<span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] -0.171</code></pre>
</div>
</div>
<p><em>There is a very negative weak correlation between the two keywords we used.</em></p>
<p>Repeat the above for keywords related to covid. Make sure you use multiple keywords like we did above. Try several different combinations and think carefully about words that might make sense within this context.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Fetch Google Trends data for Covid related keywords</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>covid_res <span class="ot">&lt;-</span> <span class="fu">gtrends</span>(<span class="fu">c</span>(<span class="st">"unemployment"</span>, <span class="st">"death"</span>),</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>                      <span class="at">geo =</span> <span class="st">"US-CA"</span>,</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>                      <span class="at">time =</span> <span class="st">"2020-01-01 2020-12-31"</span>,</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>                      <span class="at">low_search_volume =</span> <span class="cn">TRUE</span>)</span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(covid_res)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="assignment2_bz_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>covid_interest_over_time <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(covid_res<span class="sc">$</span>interest_over_time)</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>covid_interest_by_dma <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(covid_res<span class="sc">$</span>interest_by_dma)</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>covid_interest_by_city <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(covid_res<span class="sc">$</span>interest_by_city)</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(covid_interest_over_time)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>        date hits      keyword   geo                  time gprop category
1 2019-12-29    4 unemployment US-CA 2020-01-01 2020-12-31   web        0
2 2020-01-05    5 unemployment US-CA 2020-01-01 2020-12-31   web        0
3 2020-01-12    5 unemployment US-CA 2020-01-01 2020-12-31   web        0
4 2020-01-19    5 unemployment US-CA 2020-01-01 2020-12-31   web        0
5 2020-01-26    5 unemployment US-CA 2020-01-01 2020-12-31   web        0
6 2020-02-02    5 unemployment US-CA 2020-01-01 2020-12-31   web        0</code></pre>
</div>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(covid_interest_by_dma)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                  location hits      keyword   geo gprop
1 Medford-Klamath Falls OR  100 unemployment US-CA   web
2                  Reno NV   91 unemployment US-CA   web
3     Yuma AZ-El Centro CA   63 unemployment US-CA   web
4          Palm Springs CA   54 unemployment US-CA   web
5           Bakersfield CA   53 unemployment US-CA   web
6        Fresno-Visalia CA   50 unemployment US-CA   web</code></pre>
</div>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(covid_interest_by_city)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>               location hits      keyword   geo gprop
1 Rancho Tehama Reserve  100 unemployment US-CA   web
2               Cabazon   99 unemployment US-CA   web
3      South Lake Tahoe   94 unemployment US-CA   web
4          Valley Acres   92 unemployment US-CA   web
5            Thermalito   90 unemployment US-CA   web
6           Orange Cove   86 unemployment US-CA   web</code></pre>
</div>
</div>
<ul>
<li>Find the the mean of <code>crim</code> is , median and variance of the search hits for the covid keywords.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate mean, median, and variance for each keyword</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>covid_interest_over_time <span class="sc">%&gt;%</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">na.omit</span>() <span class="sc">%&gt;%</span></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(keyword) <span class="sc">%&gt;%</span></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">search_hits_mean =</span> <span class="fu">mean</span>(hits),</span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">search_hits_median =</span> <span class="fu">median</span>(hits),</span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">search_hits_variance =</span> <span class="fu">var</span>(hits)</span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 4
  keyword      search_hits_mean search_hits_median search_hits_variance
  &lt;chr&gt;                   &lt;dbl&gt;              &lt;int&gt;                &lt;dbl&gt;
1 death                    46.3                 44                 84.5
2 unemployment             35.7                 37                557. </code></pre>
</div>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>covid_interest_by_dma <span class="sc">%&gt;%</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">na.omit</span>() <span class="sc">%&gt;%</span></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(keyword) <span class="sc">%&gt;%</span></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">search_hits_mean =</span> <span class="fu">mean</span>(hits),</span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">search_hits_median =</span> <span class="fu">median</span>(hits),</span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">search_hits_variance =</span> <span class="fu">var</span>(hits)</span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 4
  keyword      search_hits_mean search_hits_median search_hits_variance
  &lt;chr&gt;                   &lt;dbl&gt;              &lt;dbl&gt;                &lt;dbl&gt;
1 death                    93                   93                 25.1
2 unemployment             52.1                 46                413. </code></pre>
</div>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>covid_interest_by_city <span class="sc">%&gt;%</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">na.omit</span>() <span class="sc">%&gt;%</span></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(keyword) <span class="sc">%&gt;%</span></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">search_hits_mean =</span> <span class="fu">mean</span>(hits),</span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">search_hits_median =</span> <span class="fu">median</span>(hits),</span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">search_hits_variance =</span> <span class="fu">var</span>(hits)</span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 4
  keyword      search_hits_mean search_hits_median search_hits_variance
  &lt;chr&gt;                   &lt;dbl&gt;              &lt;dbl&gt;                &lt;dbl&gt;
1 death                    76.9               75                   64.1
2 unemployment             74.9               70.5                 95.6</code></pre>
</div>
</div>
<p><em>Within <code>covid_interest_over_time</code>, the mean of the search hits for the keyword <code>death</code> is 46.264, and the median is 44, with the variance of 84.544; while the mean of the search hits for the keyword <code>unemployment</code> is 35.717, and the median is 37, with variance of 577.476.Within <code>covid_interest_by_dma</code>, the mean of the search hits for the keyword <code>death</code> is 84.286, and the median is 85, with the variance of 47.604; while the mean of the search hits for the keyword <code>unemployment</code> is 52.071, and the median is 46, with variance of 412.687. Within <code>covid_interest_by_city</code>, the mean of the search hits for the keyword <code>death</code> is 20.116, and the median is 17, with the variance of 158.819; while the mean of the search hits for the keyword <code>unemployment</code> is 74.308, and the median is 70.5, with variance of 87.742.</em></p>
<ul>
<li>Which cities (locations) have the highest search frequency for death? Note that there might be multiple rows for each city if there were hits for both “unemployment” and “death” in that city. It might be easier to answer this question if we had the search hits info for both search terms in two separate variables. That is, each row would represent a unique city.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Find the city with the highest search frequency for each keyword###</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>highest_death_frequency <span class="ot">&lt;-</span> covid_interest_by_city <span class="sc">%&gt;%</span> <span class="co"># search in city dataset</span></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">na.omit</span>() <span class="sc">%&gt;%</span> <span class="co"># remove null values</span></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(keyword <span class="sc">==</span> <span class="st">"death"</span>) <span class="sc">%&gt;%</span> <span class="co"># filter for only rows searches for loans</span></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">transmute</span>(</span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>    location,</span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">freq =</span> hits <span class="sc">/</span> <span class="fu">sum</span>(hits)</span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> <span class="co">#  select city and create frequency variable</span></span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(freq)) <span class="co"># arrange in descending order of search frequency </span></span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(highest_death_frequency, <span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                  location       freq
1                   Bishop 0.11820331
2             Golden Hills 0.09338061
3              Shaver Lake 0.09101655
4                June Lake 0.08983452
5          California City 0.08983452
6            Boulder Creek 0.08865248
7                   Duarte 0.08747045
8                Jamestown 0.08628842
9  Dixon Lane-Meadow Creek 0.08628842
10            Meiners Oaks 0.08510638</code></pre>
</div>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(highest_death_frequency, </span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(location, <span class="sc">-</span>freq), </span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> freq)) <span class="sc">+</span></span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">fill =</span> <span class="st">"darkgreen"</span>) <span class="sc">+</span></span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"City in California (Location)"</span>, </span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Search Frequency for Deaths"</span>, <span class="at">title =</span> <span class="st">"Which cities have the highest search frequency for deaths related to Covid?"</span>) <span class="sc">+</span></span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="assignment2_bz_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="co"># If any correlation between search intensities of COVID related keywords</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>correlation_covid <span class="ot">&lt;-</span> <span class="fu">cor</span>(covid_interest_over_time<span class="sc">$</span>hits[covid_interest_over_time<span class="sc">$</span>keyword <span class="sc">==</span> <span class="st">"unemployment"</span>],</span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>                       covid_interest_over_time<span class="sc">$</span>hits[covid_interest_over_time<span class="sc">$</span>keyword <span class="sc">==</span> <span class="st">"death"</span>])</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(correlation_covid, <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.423</code></pre>
</div>
</div>
<p><em>There is a positive moderate correlation between these two keywords we used.</em></p>
</section>
<section id="google-trends-acs" class="level2">
<h2 class="anchored" data-anchor-id="google-trends-acs">Google Trends + ACS</h2>
<p>Now lets add another data set. The <code>censusapi</code> package provides a nice R interface for communicating with this API. However, before running queries we need an access key. This (easy) process can be completed here:</p>
<p><a href="https://api.census.gov/data/key_signup.html" class="uri">https://api.census.gov/data/key_signup.html</a></p>
<p>Once you have an access key, save it as a text file, then read this key in the <code>cs_key</code> object. We will use this object in all following API queries. Note that I called my text file <code>census-key.txt</code> – yours might be different!</p>
<p><code>{library(censusapi)} cs_key &lt;- read_file("census-key.txt")</code></p>
<p>In the following, we request basic socio-demographic information (population, median age, median household income, income per capita) for cities and villages in the state of Illinois. Documentation for the 5-year ACS API can be found here: <a href="https://www.census.gov/data/developers/data-sets/acs-5year.html" class="uri">https://www.census.gov/data/developers/data-sets/acs-5year.html</a>. The information about the variables used here can be found here: <a href="https://api.census.gov/data/2022/acs/acs5/variables.html" class="uri">https://api.census.gov/data/2022/acs/acs5/variables.html</a>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>cs_key <span class="ot">&lt;-</span> <span class="fu">read_file</span>(<span class="st">"census-key.txt"</span>)</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>acs_il <span class="ot">&lt;-</span> <span class="fu">getCensus</span>(<span class="at">name =</span> <span class="st">"acs/acs5"</span>,</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>                    <span class="at">vintage =</span> <span class="dv">2020</span>, </span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>                    <span class="at">vars =</span> <span class="fu">c</span>(<span class="st">"NAME"</span>, </span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"B01001_001E"</span>, </span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"B06002_001E"</span>, </span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"B19013_001E"</span>, </span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"B19301_001E"</span>), </span>
<span id="cb38-9"><a href="#cb38-9" aria-hidden="true" tabindex="-1"></a>                    <span class="at">region =</span> <span class="st">"place:*"</span>, </span>
<span id="cb38-10"><a href="#cb38-10" aria-hidden="true" tabindex="-1"></a>                    <span class="at">regionin =</span> <span class="st">"state:17"</span>,</span>
<span id="cb38-11"><a href="#cb38-11" aria-hidden="true" tabindex="-1"></a>                    <span class="at">key =</span> cs_key)</span>
<span id="cb38-12"><a href="#cb38-12" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(acs_il)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  state place                        NAME B01001_001E B06002_001E B19013_001E
1    17 15261 Coatsburg village, Illinois         180        35.6       55714
2    17 15300    Cobden village, Illinois        1018        44.2       38750
3    17 15352      Coffeen city, Illinois         640        33.4       35781
4    17 15378   Colchester city, Illinois        1347        42.2       43942
5    17 15469    Coleta village, Illinois         230        27.7       56875
6    17 15495    Colfax village, Illinois        1088        32.5       58889
  B19301_001E
1       27821
2       19979
3       26697
4       24095
5       23749
6       24861</code></pre>
</div>
</div>
<p>Convert values that represent missings to NAs.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>acs_il[acs_il <span class="sc">==</span> <span class="sc">-</span><span class="dv">666666666</span>] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(<span class="fu">is.na</span>(acs_il))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 111</code></pre>
</div>
</div>
<p>Now, it might be useful to rename the socio-demographic variables (<code>B01001_001E</code> etc.) in our data set and assign more meaningful names.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>acs_il <span class="ot">&lt;-</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>  acs_il <span class="sc">%&gt;%</span></span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">pop =</span> B01001_001E,</span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">age =</span> B06002_001E,</span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">hh_income =</span> B19013_001E,</span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">income =</span> B19301_001E)</span>
<span id="cb42-7"><a href="#cb42-7" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(acs_il)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "state"     "place"     "NAME"      "pop"       "age"       "hh_income"
[7] "income"   </code></pre>
</div>
</div>
<p>It seems like we could try to use this location information listed above to merge this data set with the Google Trends data. However, we first have to clean <code>NAME</code> so that it has the same structure as <code>location</code> in the search interest by city data. Add a new variable <code>location</code> to the ACS data that only includes city names.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Add a new variable `location ` to the ACS data that only includes city names</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>acs_il<span class="sc">$</span>location <span class="ot">&lt;-</span> acs_il<span class="sc">$</span>NAME</span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>acs_il<span class="sc">$</span>location <span class="ot">&lt;-</span> <span class="fu">sapply</span>(<span class="fu">strsplit</span>(<span class="fu">as.character</span>(acs_il<span class="sc">$</span>location), <span class="st">","</span>), <span class="st">'['</span>,<span class="dv">1</span>)</span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Use gsub() to remove suffixes like 'village', 'city', 'town', 'CDP'</span></span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>acs_il<span class="sc">$</span>location <span class="ot">&lt;-</span> <span class="fu">gsub</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">s+(village|city|town|CDP)$"</span>, <span class="st">""</span>, acs_il<span class="sc">$</span>location)</span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Reorder columns </span></span>
<span id="cb44-8"><a href="#cb44-8" aria-hidden="true" tabindex="-1"></a>acs_il <span class="ot">&lt;-</span> acs_il <span class="sc">%&gt;%</span></span>
<span id="cb44-9"><a href="#cb44-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(state, place, location, pop, age, hh_income, income)</span>
<span id="cb44-10"><a href="#cb44-10" aria-hidden="true" tabindex="-1"></a>acs_il</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     state place              location     pop  age hh_income income
1       17 15261             Coatsburg     180 35.6     55714  27821
2       17 15300                Cobden    1018 44.2     38750  19979
3       17 15352               Coffeen     640 33.4     35781  26697
4       17 15378            Colchester    1347 42.2     43942  24095
5       17 15469                Coleta     230 27.7     56875  23749
6       17 15495                Colfax    1088 32.5     58889  24861
7       17 15599          Collinsville   24489 38.5     56250  31912
8       17 15664                Colona    5307 43.1     64643  33759
9       17 15807                  Colp     234 35.6     12344  11498
10      17 15833              Columbia   10692 38.7    107500  50876
11      17 15846              Columbus      80 36.3     63750  23494
12      17 15950                  Como     525 49.4     79250  27306
13      17 15989               Compton     267 35.5     47321  24218
14      17 16054               Concord     170 52.9     24327  18568
15      17 16119           Congerville     840 28.4     67850  25412
16      17 16210            Cooksville     164 48.0     63750  31032
17      17 16301                 Coral       0   NA        NA     NA
18      17 16366               Cordova     685 39.2     63810  30985
19      17 16405               Cornell     428 30.5     50625  22386
20      17 16431              Cornland      71 32.8        NA  38528
21      17 16470              Cortland    4261 30.2     74821  32578
22      17 16613          Coulterville     881 52.5     39688  24132
23      17 16691    Country Club Hills   16564 40.9     70306  30318
24      17 16873           Countryside    5929 45.2     67201  44265
25      17 17055                Cowden     538 38.0     33250  18309
26      17 17077          Coyne Center    1102 52.3    116116  34074
27      17 17094          Crab Orchard     222 47.6        NA  38279
28      17 17185            Crainville    1372 40.6     59643  32729
29      17 17289         Creal Springs     473 35.4     34688  21045
30      17 17406         Crescent City     485 43.1     57500  31276
31      17 17458            Crest Hill   20388 38.4     58462  25439
32      17 17471               Creston     535 34.6     77708  53117
33      17 17497             Crestwood   10762 48.9     60541  30003
34      17 17523                 Crete    8058 49.2     75403  48203
35      17 17549           Creve Coeur    5074 35.4     46250  33670
36      17 17783            Crossville     799 37.9     33894  21620
37      17 17887          Crystal Lake   39685 39.9     91456  39782
38      17 17939         Crystal Lawns    1943 39.3     90550  35135
39      17 17991                  Cuba    1066 48.3     33672  25716
40      17 15235           Coal Valley    3817 45.7     73472  41944
41      17 18030                Cullom     501 38.0     50000  25328
42      17 18147                Curran     212 44.5     49063  24525
43      17 18212           Custer Park     497 35.6     88393  14079
44      17 18225                Cutler     429 39.1     44531  20896
45      17 18251               Cypress     216 35.2     37500  18240
46      17 18303              Dahlgren     699 44.8     50038  20706
47      17 18342                Dakota     721 32.8     63750  23881
48      17 18420           Dallas City    1064 44.4     47857  26409
49      17 18446           Dalton City     717 30.0     54875  23911
50      17 18459               Dalzell     628 46.8     63750  31279
51      17 18472          Damiansville     566 33.7     70375  34250
52      17 18485                  Dana      99 36.2     47500  20816
53      17 18498              Danforth     574 50.4     40278  21980
54      17 18537               Danvers     979 39.3     67813  35735
55      17 18563              Danville   30969 37.6     37328  22247
56      17 18628                Darien   21843 44.9    100771  49892
57      17 18641             Darmstadt       0   NA        NA     NA
58      17 66638              St. Anne    1249 39.1     60469  28602
59      17 66677         St. Augustine     133 52.2     44375  21198
60      17 66703           St. Charles   32612 41.3    102414  50467
61      17 66768             St. David     560 39.6     45288  22670
62      17 66794              St. Elmo    1466 40.3     43913  19890
63      17 66800            Ste. Marie     358 29.0     53000  19729
64      17 66833      St. Francisville     480 52.5     42917  33530
65      17 66859             St. Jacob    1529 33.1     83750  30732
66      17 66924             St. Johns     160 56.7     37656  24524
67      17 66950            St. Joseph    4053 39.2     93621  35292
68      17 66989            St. Libory     591 41.6     67431  34742
69      17 67132             St. Peter     438 32.2     50938  21471
70      17 67158              St. Rose     577 34.9     83281  34827
71      17 67236                 Salem    6988 38.0     48022  26818
72      17 67372         Sammons Point     207 42.4     54750  23926
73      17 67444              Sandoval    1099 37.7     45476  23703
74      17 67548              Sandwich    7351 37.2     70563  29619
75      17 67613              San Jose     530 47.7     57813  28118
76      17 67756                Sauget     233 55.4     53125  32206
77      17 67769          Sauk Village   10319 30.6     46061  18976
78      17 67795              Saunemin     398 37.4     56250  20457
79      17 67821               Savanna    2924 48.2     32067  27187
80      17 67860                 Savoy    8802 36.1     74189  39751
81      17 67873           Sawyerville     242 32.5     40556  18369
82      17 67912              Saybrook     721 41.2     50966  25175
83      17 67925          Scales Mound     502 37.9     57292  32767
84      17 68003            Schaumburg   73392 38.5     82387  42303
85      17 68081         Schiller Park   11499 41.6     58637  30168
86      17 68120           Schram City     633 47.1     42143  27066
87      17 68198                Sciota      85 58.3     98750  34744
88      17 68328             Scott AFB    3845 22.9     71679  24492
89      17 68406            Scottville     124 67.4     48750  22705
90      17 68458                Seaton     278 29.9     59583  28165
91      17 68471           Seatonville     372 49.3     39405  27401
92      17 68510                 Secor     266 46.5     54167  24835
93      17 68640                Seneca    2534 34.8     74907  34832
94      17 68679                Serena     137 15.5        NA   8431
95      17 68705                Sesser    1702 40.8     54375  24785
96      17 68809               Seymour     145 40.3    105893  37757
97      17 68822              Shabbona     937 49.2     66250  30966
98      17 68991               Shannon     745 45.0     52500  30005
99      17 69082           Shawneetown    1272 36.7     25964  19047
100     17 69147             Sheffield     828 44.5     48854  27810
101     17 69186           Shelbyville    4198 46.5     50485  26692
102     17 69212               Sheldon    1198 46.5     36506  24223
103     17 69277              Sheridan    2829 34.5     70925  11121
104     17 69342               Sherman    4470 44.8    123232  51586
105     17 69368              Sherrard     628 40.6     63269  31290
106     17 69524                Shiloh   13465 39.8     87076  45661
107     17 69563               Shipman     616 35.5     46944  21889
108     17 69628               Shirley      94 58.4     54583  13529
109     17 69758             Shorewood   17303 42.8    106341  43531
110     17 69797               Shumway     132 36.3     59375  24003
111     17 69810                Sibley     223 51.2     49375  27225
112     17 69836                Sidell     492 51.4     52019  22829
113     17 69875                Sidney    1297 37.0     76250  34866
114     17 18706                 Davis     470 51.4     51000  30354
115     17 18719        Davis Junction    2574 29.3     83906  27841
116     17 18745                Dawson     705 34.7     56964  26873
117     17 18771                Dayton     475 47.8     86125  39920
118     17 18823               Decatur   71857 39.8     45404  27813
119     17 18940            Deer Creek     641 35.6     61406  31153
120     17 18992             Deerfield   19030 44.2    162064  82426
121     17 19031            Deer Grove      33 58.8     56250  28170
122     17 19083             Deer Park    4005 43.5    161422  73578
123     17 19161                DeKalb   42961 25.1     44223  24819
124     17 19200               De Land     468 37.5     49167  27359
125     17 19226               Delavan    1708 38.3     62500  29188
126     17 19499                De Pue    1724 35.6     61553  24607
127     17 19616               De Soto    1652 41.2     44744  23418
128     17 19642           Des Plaines   58316 42.8     73639  37220
129     17 19681               Detroit      23 57.2        NA  19200
130     17 19746                 Dewey      90 37.6        NA  23928
131     17 19798               De Witt     221 50.0     51875  23340
132     17 19837               Diamond    2786 37.3     51019  30891
133     17 19915             Dieterich     726 37.4     61417  33319
134     17 20045              Divernon    1194 36.4     64922  30233
135     17 20123                   Dix     534 42.2     30000  22881
136     17 20149               Dixmoor    3570 29.9     44757  16349
137     17 20162                 Dixon   15544 41.6     46479  23516
138     17 20292                Dolton   22487 36.7     50237  22135
139     17 20305               Dongola     654 38.1     34073  18439
140     17 20318            Donnellson     114 54.0        NA  18109
141     17 20331               Donovan     272 38.5     37083  16290
142     17 20370            Dorchester     151 37.5     78750  30755
143     17 20526                 Dover     141 55.2     36618  29457
144     17 20565                Dowell     356 39.1     36111  19340
145     17 20591         Downers Grove   49263 43.1     97197  53339
146     17 20643                 Downs    1417 33.7     92288  40745
147     17 20890               Du Bois     155 51.7     52188  32517
148     17 21020                Dundas     259 51.6     98056  33677
149     17 21098           Dunfermline     380 48.6     51250  27722
150     17 21176                Dunlap    1100 42.1     99018  47631
151     17 21254                  Dupo    3917 39.8     40049  27576
152     17 21267              Du Quoin    5723 39.0     41756  24500
153     17 21280                Durand    1493 37.5     51375  23917
154     17 21358                Dwight    3817 40.7     56543  30753
155     17 21410            Eagarville     170 30.0     50938  19969
156     17 21475            Eagle Lake      61 79.2        NA  55189
157     17 21540             Earlville    2057 35.3     52768  23334
158     17 21553            East Alton    6021 43.8     52773  26761
159     17 21579         East Brooklyn      57 57.2     91250  41647
160     17 21605   East Cape Girardeau     429 39.8     37875  17811
161     17 21618       East Carondelet     317 31.7     50208  18568
162     17 21683          East Dubuque    1569 45.8     52500  30587
163     17 21696           East Dundee    3211 52.0     73199  52929
164     17 21826        East Galesburg     579 52.9     57708  38414
165     17 21852        East Gillespie     240 59.1     64167  42426
166     17 21904      East Hazel Crest    1509 46.3     50583  29269
167     17 22021             East Lynn     379 15.1    200771  40635
168     17 22073           East Moline   20683 38.4     51388  24322
169     17 22151                Easton     235 55.4     54250  27862
170     17 69914                 Sigel     419 38.6     85417  28291
171     17 69979                Silvis    7507 40.0     56768  31355
172     17 70005               Simpson      69 30.9     49375  19136
173     17 70031                  Sims     167 47.3     45893  29795
174     17 70122                Skokie   63300 42.9     74725  37827
175     17 70161         Sleepy Hollow    3276 47.7    122121  50022
176     17 70213             Smithboro     215 29.7     45625  18185
177     17 70226            Smithfield     181 60.3     43750  26699
178     17 70252              Smithton    4019 43.6     88879  38748
179     17 70278            Smithville     171 29.7        NA  35139
180     17 70356           Solon Mills     177 47.9        NA 104487
181     17 70460              Somonauk    2027 37.8     71375  32921
182     17 70525               Sorento     499 41.9     33750  16975
183     17 70564      South Barrington    4963 48.5    183750  71005
184     17 70590          South Beloit    7730 31.7     59470  25781
185     17 70629 South Chicago Heights    4042 34.8     45321  19323
186     17 70720           South Elgin   23648 38.0     99189  41648
187     17 70759         Southern View    1605 46.2     46486  26147
188     17 70850         South Holland   21451 42.7     66859  28649
189     17 70889    South Jacksonville    3132 46.0     53580  30255
190     17 71175           South Pekin    1061 35.1     58490  22005
191     17 71240          South Roxana    2304 30.0     41769  21531
192     17 71370      South Wilmington     702 35.7     75156  35967
193     17 71422              Sparland     390 45.4     38750  21902
194     17 71448                Sparta    4302 41.1     52324  33969
195     17 71474             Spaulding     956 49.1    106250  45735
196     17 71526           Spillertown     241 47.4     59375  55366
197     17 71604            Spring Bay     473 44.8     38571  24145
198     17 71643           Springerton      67 51.5     61250  31887
199     17 72000           Springfield  115075 39.9     54164  33978
200     17 72052          Spring Grove    5672 40.2    129191  50235
201     17 72156         Spring Valley    5172 43.8     50549  26500
202     17 72221              Standard     281 45.1     41042  34191
203     17 72234         Standard City     219 40.8     75938  24139
204     17 72260              Stanford     695 30.6     63333  24770
205     17 72403              Staunton    4528 42.9     52725  27692
206     17 72468           Steeleville    1870 45.8     53750  30044
207     17 72520                Steger    9289 41.5     49492  26564
208     17 72546              Sterling   14774 42.0     46491  28674
209     17 72624               Steward     350 48.3     81875  32691
210     17 72650            Stewardson     710 40.8     65282  26591
211     17 72676              Stickney    6607 39.0     67246  27977
212     17 72702       Stillman Valley    1348 34.1     68958  27400
213     17 72780              Stockton    1656 44.3     43295  26501
214     17 72884             Stonefort     324 40.9     35909  20147
215     17 72923            Stone Park    4842 33.1     63710  19125
216     17 72949            Stonington     671 44.3     56094  30187
217     17 73027                  Stoy     146 40.6     75208  27947
218     17 73040             Strasburg     528 46.2     61964  29238
219     17 73131                Strawn      85 36.3     58750  31311
220     17 73157            Streamwood   39917 38.2     88917  31692
221     17 73170              Streator   12337 40.4     40778  25818
222     17 73261           Stronghurst    1066 35.4     51979  20945
223     17 73287              Sublette     383 49.0     55313  32620
224     17 73391           Sugar Grove    9756 43.6    110607  46950
225     17 73495              Sullivan    4450 37.5     56351  27382
226     17 22164           East Peoria   22615 42.7     65164  35330
227     17 22255        East St. Louis   26359 40.6     24009  18251
228     17 22398             Eddyville      71 37.5        NA  19068
229     17 22567              Edgewood     470 34.6     44000  20469
230     17 22619             Edgington     195 34.6    119722  51196
231     17 22645              Edinburg    1088 41.2     61042  29631
232     17 22697          Edwardsville   25332 29.9     75271  37222
233     17 22736             Effingham   12310 37.1     52551  31029
234     17 22931                Elburn    5559 36.2     95717  39148
235     17 22957               El Dara      88 43.5    114250  43402
236     17 23009              Eldorado    4000 43.3     37528  21625
237     17 23022                Eldred     204 56.5     41875  32013
238     17 23074                 Elgin  112062 34.9     72999  29423
239     17 23139                 Eliza       0   NA        NA     NA
240     17 23165             Elizabeth     906 42.8     36250  30137
241     17 23191         Elizabethtown     300 59.1     17143  16353
242     17 23256     Elk Grove Village   32450 43.6     85240  41703
243     17 23269               Elkhart     459 42.9     69219  31667
244     17 23373              Elkville     796 46.0     40063  22013
245     17 23425               Elliott     310 46.0     46667  26593
246     17 23503           Ellis Grove     316 36.9     53750  26186
247     17 23529            Ellisville      96 56.7     41250  32255
248     17 23555             Ellsworth     218 45.8     43750  20436
249     17 23620              Elmhurst   46571 40.7    123869  59911
250     17 23698               Elmwood    2492 36.9     75152  27709
251     17 23724          Elmwood Park   24274 40.3     63312  31248
252     17 23737               El Paso    2854 36.9     61442  28225
253     17 23776                 Elsah     701 20.7     97500  13499
254     17 23841              Elvaston     151 51.3     25938  17405
255     17 23919                 Elwin     143 42.9     45833  25993
256     17 23945                Elwood    2524 41.2     81250  34402
257     17 23971                 Emden     398 35.0     55000  27676
258     17 24062              Emington      89 35.3     51563  27643
259     17 24166                Energy    1208 45.4     50326  25984
260     17 24179               Enfield     541 41.3     40469  24604
261     17 24348              Equality     442 46.8     41563  23047
262     17 24374                  Erie    1865 41.3     85750  33758
263     17 24452                 Essex    1083 32.7     81458  35914
264     17 24543                Eureka    5485 37.9     46579  28072
265     17 24582              Evanston   73979 36.2     82335  53685
266     17 24608            Evansville     760 41.8     52308  24853
267     17 24634        Evergreen Park   19290 41.1     79396  35328
268     17 24673                 Ewing     320 43.5     61250  30748
269     17 24699                Exeter      72 49.0     48750  25013
270     17 24764              Fairbury    3604 41.2     57563  29886
271     17 24816             Fairfield    4912 42.7     42386  24451
272     17 24920              Fairmont    2690 31.4     52917  20816
273     17 24933         Fairmont City    2082 34.9     37775  18321
274     17 24985             Fairmount     540 39.1     51818  26791
275     17 25063              Fairview     456 46.5     57292  33033
276     17 25141      Fairview Heights   16143 39.6     68505  34003
277     17 25245            Fall Creek      29   NA        NA     NA
278     17 25375                Farina     749 38.2     35313  23298
279     17 25414           Farmer City    2063 46.9     66591  27409
280     17 25440          Farmersville     867 30.7     56875  23326
281     17 25531            Farmington    1939 34.8     51335  26332
282     17 25713          Fayetteville     438 36.3     58214  26281
283     17 73547           Summerfield     324 35.7     39375  21494
284     17 73638                Summit   11171 32.3     46972  20911
285     17 73703                Sumner    2916 34.2     36298   7303
286     17 73872             Sunnyland     565 42.6     63500  26003
287     17 73943     Sun River Terrace     484 33.7     46346  16798
288     17 74119               Swansea   14100 42.0     81625  44275
289     17 74145               Swedona      95 38.6     72344  27945
290     17 74223              Sycamore   17990 37.0     65924  33586
291     17 74275              Symerton      72 36.5     71250  31229
292     17 74301           Table Grove     363 32.1     49583  23974
293     17 74379               Tallula     540 44.8     51806  29107
294     17 74444               Tamaroa     740 37.4     43125  22924
295     17 74457                 Tamms     702 45.0     45227  18068
296     17 74470               Tampico     771 35.8     53594  25863
297     17 74548          Taylor Ridge     142 71.1     60167  41745
298     17 74561        Taylor Springs     587 59.1     37981  26738
299     17 74574           Taylorville   10766 42.4     41397  26513
300     17 74665             Tennessee      88 50.2     36667  25774
301     17 74743            Teutopolis    1807 36.7     72404  34393
302     17 74847             Thawville     225 35.6     36250  14974
303     17 74860                Thayer     622 39.6     51806  32231
304     17 74873                Thebes     550 20.6     38929  12080
305     17 74970  The Galena Territory    1424 65.3    103065  62513
306     17 75081            Third Lake    1160 50.2    135021  54025
307     17 75107            Thomasboro    1036 47.1     55795  35869
308     17 75159         Thompsonville     527 36.5     35833  19557
309     17 75172               Thomson     369 52.9     51071  30156
310     17 75185              Thornton    2308 43.8     66447  32251
311     17 75263                Tilden     961 36.7     38365  21497
312     17 75276                Tilton    2797 50.0     44804  27238
313     17 75360            Timberlane    1158 43.2    170875  55343
314     17 75419                  Time      17 41.3     38750  16212
315     17 75484           Tinley Park   56082 40.5     82163  40955
316     17 75549              Tiskilwa     693 46.6     41071  22328
317     17 75601                Toledo    1163 35.4     51364  24696
318     17 75614                Tolono    3071 34.6     62788  26693
319     17 75653                Toluca    1287 50.1     57188  31428
320     17 75718                Tonica     777 41.4     52206  27672
321     17 75757                Topeka      62 61.1     39500  26334
322     17 75783                Toulon    1291 44.7     39509  24220
323     17 75809                 Tovey     582 39.6     90246  35699
324     17 75822               Towanda     341 50.9     59250  37541
325     17 75848            Tower Hill     643 33.6     55588  21217
326     17 75874           Tower Lakes    1293 46.7    143250  67989
327     17 75965               Tremont    2261 42.1     64000  33370
328     17 75991               Trenton    2604 38.7     54138  32522
329     17 76017                Trilla     338 35.7     53661  20728
330     17 76082               Triumph      82 28.2        NA 103463
331     17 76108               Trivoli     380 48.5     71648  35005
332     17 76160          Trout Valley     509 55.6    190231  86833
333     17 76199                  Troy   10278 37.1     76672  34051
334     17 76225            Troy Grove     210 34.4     73333  34519
335     17 76407               Tuscola    4599 38.6     65827  33316
336     17 76511            Twin Grove    1243 44.0    109191  50279
337     17 76615                 Ullin     579 40.5     60208  20530
338     17 76706                 Union     680 33.2     95655  40315
339     17 76771            Union Hill      69 22.8     64688  24014
340     17 25895                Ferris     164 56.5     43750  23674
341     17 25960              Fidelity     172 54.4     28125  12623
342     17 26012               Fieldon     153 54.8     38750  26424
343     17 26077              Fillmore     296 48.5     48125  26008
344     17 26116               Findlay     703 49.0     49432  25208
345     17 26194                Fisher    1917 32.6     71136  33378
346     17 26233               Fithian     536 55.7     60313  28239
347     17 26311              Flanagan     949 52.1     62841  38163
348     17 26350             Flat Rock     464 34.7     41071  22659
349     17 26454                 Flora    4686 41.7     49722  27726
350     17 26467            Floraville      30   NA        NA     NA
351     17 26480              Florence      51 50.4     35208  23165
352     17 26571             Flossmoor    9318 45.1    107271  56195
353     17 26662              Foosland      53 56.1     50833  27058
354     17 26710          Ford Heights    2705 39.0     37083  17494
355     17 26753           Forest City     314 31.9     47083  19870
356     17 26896           Forest Lake    1292 49.8     87232  42782
357     17 26935           Forest Park   13808 39.6     70670  46969
358     17 26987           Forest View    1312 37.1     97321  33010
359     17 27026               Forrest     995 40.2     61058  31216
360     17 27065             Forreston    1392 37.1     57668  26046
361     17 27091               Forsyth    3474 41.2     95865  48050
362     17 27377                Fowler      86 54.8        NA  18657
363     17 27442              Fox Lake   10739 45.5     62615  35159
364     17 27455        Fox Lake Hills    2125 45.9     82548  38741
365     17 27533       Fox River Grove    4639 39.2    116442  47951
366     17 27624             Frankfort   19166 41.9    140731  51278
367     17 27644      Frankfort Square    8831 40.5    113170  39714
368     17 27663              Franklin     624 37.3     67500  36034
369     17 27689        Franklin Grove     948 46.3     46080  27341
370     17 27702         Franklin Park   17779 37.3     67755  26547
371     17 27728         Franklinville       0   NA        NA     NA
372     17 27806              Freeburg    3911 42.7     64702  33237
373     17 27858          Freeman Spur     269 41.1     37750  14086
374     17 27884              Freeport   23930 41.9     39787  25218
375     17 28144                Fulton    3255 46.0     49375  31157
376     17 28170                 Fults      21 55.5     76875  28786
377     17 28248            Gages Lake    9939 40.0     93837  45673
378     17 28261               Galatia    1095 38.1     48828  30547
379     17 28300                Galena    3168 53.0     57558  40456
380     17 28326             Galesburg   30405 41.2     37322  22497
381     17 28404                  Galt     204 66.5     58207  89123
382     17 28430                 Galva    2539 46.0     44191  25796
383     17 28612        Garden Prairie     265 47.0     32039  16306
384     17 28638               Gardner    1429 42.9     67441  35716
385     17 28742               Garrett     118 42.9     46667  23192
386     17 28807                  Gays     209 44.9     62500  27400
387     17 28846               Geneseo    6566 47.1     56211  32169
388     17 28872                Geneva   21843 40.4    116083  52697
389     17 28898                 Genoa    5092 39.5     72795  31563
390     17 28950            Georgetown     468 35.4     60060  26006
391     17 28963            Georgetown    3224 45.5     49708  28868
392     17 29041            Germantown    1279 41.1     61364  31878
393     17 29080      Germantown Hills    3421 41.9    120057  44738
394     17 29093         German Valley     565 32.5     61250  24810
395     17 29125           Gibson City    3340 43.8     44544  28872
396     17 76935       University Park    7224 30.6     62258  23354
397     17 77005                Urbana   42461 25.0     35984  25365
398     17 77044                  Ursa     541 38.4     46719  29957
399     17 77148                Valier     731 41.9     36500  19703
400     17 77187           Valley City      29 34.2        NA   7876
401     17 77265              Valmeyer    1208 40.9     82083  33276
402     17 77317              Vandalia    6615 38.5     35862  17994
403     17 77395                 Varna     456 42.5     57222  25953
404     17 77408                Venedy     145 37.3     55893  24834
405     17 77460      Venetian Village    2561 37.8     82631  32825
406     17 77473                Venice    2040 40.4     28681  18348
407     17 77525             Vergennes     238 37.2     41875  21311
408     17 77551             Vermilion     289 38.0     60156  20877
409     17 77642               Vermont     738 49.7     42083  23135
410     17 77681                Vernon      94 59.3     41563  23150
411     17 77694          Vernon Hills   26396 40.2    100725  49540
412     17 77707                Verona     259 35.3     42188  26351
413     17 77720            Versailles     424 37.9     49375  24881
414     17 77811              Victoria     224 53.0     40250  29222
415     17 77863                Vienna    1587 49.7     30809  22554
416     17 77941           Villa Grove    2300 43.2     53971  27520
417     17 77993            Villa Park   22087 37.2     79314  34529
418     17 78123                 Viola    1040 37.3     62045  31226
419     17 78149                Virden    3444 41.2     61726  28533
420     17 78175                Virgil     421 41.9     83333  33216
421     17 78201              Virginia    1382 39.9     48625  26824
422     17 78227                  Volo    5498 32.9    103264  41911
423     17 78370             Wadsworth    3515 52.4    101307  51750
424     17 78383              Waggoner     187 37.4     60625  23674
425     17 78526                Walnut    1340 42.3     48382  25790
426     17 78604           Walnut Hill     112 35.3     32917  20692
427     17 78656            Walshville     241 31.1     52009  16748
428     17 78708           Waltonville     413 46.4     46563  23932
429     17 78721                 Wamac    1222 33.9     32625  20581
430     17 78773               Wapella     474 43.6     60625  29993
431     17 78851                Warren    1208 49.5     51618  28205
432     17 78916           Warrensburg    1261 37.1     62917  26567
433     17 78929           Warrenville   13137 37.8     86462  39721
434     17 78942                Warsaw    1600 45.4     53920  31066
435     17 79007              Washburn    1109 34.7     55167  27579
436     17 76875                 Unity      62 66.5     59464  30961
437     17 79033            Washington   16555 39.4     78608  35946
438     17 79085       Washington Park    3909 34.9     21065  11912
439     17 79124                Wataga     778 34.5     46250  23927
440     17 79150              Waterloo   10417 41.1     71207  35376
441     17 79163              Waterman    1738 36.5     82500  30742
442     17 79228               Watseka    4956 49.0     38162  24915
443     17 79241                Watson     795 36.3     57500  21638
444     17 79267              Wauconda   13629 37.0     90019  42504
445     17 79293              Waukegan   87157 33.1     53778  24827
446     17 79358               Waverly    1482 38.7     44405  25002
447     17 79397                 Wayne    2477 50.3    132695  61007
448     17 79436            Wayne City     934 48.0     50607  23587
449     17 79449           Waynesville     496 36.8     66000  32975
450     17 79618                Wedron     170 57.7     69744  36771
451     17 79683                Weldon     375 49.5     44688  26537
452     17 79735            Wellington     237 33.3     37500  18024
453     17 29145               Gifford     920 48.9     63472  34517
454     17 29171              Gilberts    7941 36.8     96420  37136
455     17 29236             Gillespie    2977 46.4     44934  28582
456     17 29275                Gilman    1734 40.6     56719  26015
457     17 29340                Gilson     194 39.3    105694  33079
458     17 29392                Girard    1732 37.0     44639  22173
459     17 29431             Gladstone     145 58.5     30250  26854
460     17 29483              Glasford     897 33.7     59886  26288
461     17 29496               Glasgow      93 63.5     33036  26139
462     17 29639           Glen Carbon   12468 39.9     84956  45687
463     17 29652               Glencoe    8836 47.2    195600 121589
464     17 29730      Glendale Heights   33863 34.3     70034  29225
465     17 29756            Glen Ellyn   27741 41.0    118208  65328
466     17 29938              Glenview   47218 46.2    118019  66098
467     17 30029              Glenwood    8846 38.0     64857  25949
468     17 30094               Godfrey   17540 51.6     73041  39991
469     17 30120                Godley     691 42.9     42031  28144
470     17 30133              Golconda    1136 56.7     31953  15187
471     17 30159                Golden     689 46.8     51979  26132
472     17 30250           Golden Gate     121 60.1     14146  14114
473     17 30328                  Golf     521 46.8    201875  92636
474     17 30419              Goodenow      81 16.7        NA  38212
475     17 30445             Goodfield     977 41.4     89167  40693
476     17 30458             Good Hope     405 38.2     41250  26442
477     17 30510           Goofy Ridge     238 54.7     25667  22928
478     17 30575             Goreville    1120 49.4     58750  29339
479     17 30588                Gorham     263 24.7     27188  12378
480     17 30653               Grafton     672 53.8     55625  37330
481     17 30705          Grand Detour     351 46.6     67976  31530
482     17 30757           Grand Ridge     650 39.1     58056  26429
483     17 30770           Grand Tower     589 36.3     48500  20423
484     17 30835             Grandview    1389 37.6     41613  23468
485     17 30900        Grandwood Park    5114 42.1    127155  55168
486     17 30926          Granite City   28563 39.2     53545  26036
487     17 30978             Grantfork     475 36.5     85313  37857
488     17 30991            Grant Park    1681 33.9     63688  24845
489     17 31017             Granville    1449 43.3     58382  31511
490     17 31121             Grayslake   20482 37.5     99583  46346
491     17 31165             Grayville    1579 40.5     47222  24233
492     17 31368            Greenfield    1481 39.0     50139  24068
493     17 31446            Green Oaks    3882 50.3    119625  71496
494     17 31524               Greenup    1754 37.1     40139  22561
495     17 31563          Green Valley     716 31.5     53438  24532
496     17 31576             Greenview     920 40.3     54659  25128
497     17 31589            Greenville    6725 39.5     40625  20551
498     17 31667             Greenwood     352 44.4     99167  53496
499     17 31732               Gridley    1384 41.0     59464  29661
500     17 31771           Griggsville    1454 43.9     39907  23813
501     17 31992              Gulfport      41 58.5     85357  39161
502     17 32018                Gurnee   30519 39.2    100892  47800
503     17 32200           Hainesville    3595 40.3     92396  47544
504     17 32395               Hamburg     153 57.2     38571  13999
505     17 32408                 Hamel     808 34.1     68333  30435
506     17 32434              Hamilton    2808 40.9     49566  30152
507     17 32473                Hamlet       0   NA        NA     NA
508     17 32499               Hammond     530 41.6     62750  27108
509     17 79826               Wenonah      14 61.3    102500  36800
510     17 80008         West Brooklyn     187 39.5     65417  24687
511     17 80047           Westchester   16255 49.2     88861  43868
512     17 80060          West Chicago   26998 34.0     77098  30245
513     17 80073             West City     615 34.0     37813  20148
514     17 80125           West Dundee    7923 38.1     95707  43327
515     17 80242       Western Springs   13247 42.3    184412  80877
516     17 80255            Westervelt      33 15.4        NA     NA
517     17 80281             Westfield     570 48.0     53421  26040
518     17 80333        West Frankfort    7597 41.9     30938  18268
519     17 80570      Westlake Village    1744 36.7    126333  39803
520     17 80580          West Liberty     192 28.4        NA  16819
521     17 80645              Westmont   24677 40.1     69902  43229
522     17 80736           West Peoria    4510 40.5     47984  28340
523     17 80762            West Point     219 39.0     49167  15633
524     17 80853            West Salem     872 37.8     47024  20515
525     17 80879            West Union     241 40.1     48929  18080
526     17 80931             Westville    3228 36.3     47614  23750
527     17 80957             West York      45 59.8     11016  15409
528     17 81048               Wheaton   53157 36.7    105764  51688
529     17 81074               Wheeler     178 32.3     35625  15536
530     17 81087              Wheeling   38684 38.4     71966  36999
531     17 81165              Whiteash      83 67.2     48672  22945
532     17 81191            White City     197 45.3     54063  29857
533     17 81256            White Hall    2356 46.0     42596  23208
534     17 81295           White Heath     153 50.5     89297  36992
535     17 81802         Williamsfield     509 36.0     59167  32075
536     17 81815            Williamson     202 47.5     46875  26232
537     17 81854         Williamsville    1468 39.0     86326  41651
538     17 81867           Willisville     596 35.8     54125  21733
539     17 81919           Willowbrook    8610 48.8     86364  54805
540     17 81938           Willowbrook    2062 44.0     73990  28046
541     17 82010           Willow Hill     266 28.5     29306  13679
542     17 82029           Willow Lake     752 63.6     63889  36760
543     17 82049        Willow Springs    5610 46.1     98664  51333
544     17 82075              Wilmette   27114 46.5    161765  96523
545     17 82088            Wilmington     129 50.3     39531  21094
546     17 82101            Wilmington    5883 46.4     57500  30275
547     17 82218           Wilsonville     612 40.2     48500  23052
548     17 82257         Wilton Center     127 54.7     91500  40343
549     17 79813                Wenona    1077 34.9     35179  24417
550     17 82270            Winchester    1717 42.7     52500  27445
551     17 82309               Windsor     809 49.2     46382  28379
552     17 82322               Windsor    1150 39.8     48750  22894
553     17 82400              Winfield    9683 48.8    125481  55616
554     17 82491             Winnebago    3539 41.8     83611  36355
555     17 82530              Winnetka   12361 42.1    250001 134596
556     17 82543               Winslow     324 42.0     53125  28373
557     17 82686       Winthrop Harbor    6675 48.5     82500  39723
558     17 82725                  Witt     613 47.4     36250  22466
559     17 82855           Wonder Lake    3955 33.6     83958  37233
560     17 82985             Wood Dale   13783 39.2     75521  36563
561     17 83063              Woodhull     752 40.8     57656  30511
562     17 83102              Woodland     338 36.5     48958  18471
563     17 83206              Woodlawn     555 35.2     63750  23635
564     17 83245             Woodridge   33443 37.5     88803  43098
565     17 32525             Hampshire    5909 39.3     99635  49998
566     17 32564               Hampton    2074 38.9     73304  36277
567     17 32616              Hanaford     325 44.8     47250  25093
568     17 32668            Hanna City    1347 51.4     54138  29932
569     17 32707               Hanover     713 52.0     42941  24451
570     17 32746          Hanover Park   37811 34.2     77367  26823
571     17 32850                Hardin     831 49.8     55938  24596
572     17 32876               Harding     153 32.2     77750  15533
573     17 32967                Harmon     146 39.8     32500  17440
574     17 33019               Harmony       0   NA        NA     NA
575     17 33136            Harrisburg    8578 38.1     34335  20753
576     17 33162              Harrison     934 34.0     48977  23942
577     17 33227            Harristown    1294 47.1     49542  26961
578     17 33279              Hartford    1769 35.9     38580  24088
579     17 33292              Hartland     156 90.1        NA  19263
580     17 33318             Hartsburg     386 29.7     50625  26162
581     17 33331               Harvard    9203 27.7     51931  20313
582     17 33357                Harvel     246 36.0     37500  18360
583     17 33383                Harvey   24295 34.5     32635  18919
584     17 33435       Harwood Heights    8393 40.1     67745  33171
585     17 33513                Havana    3178 44.5     45833  24826
586     17 33630        Hawthorn Woods    8313 43.0    206875  69631
587     17 33695           Hazel Crest   13918 34.5     55010  29372
588     17 33851                Hebron    1730 32.7     73523  26391
589     17 33877                Hecker     569 34.3     68846  30948
590     17 34007             Henderson     280 39.0     51250  23125
591     17 34098              Hennepin     835 44.4     64750  33716
592     17 34137               Henning     258 40.2     65625  21226
593     17 34163                 Henry    2352 46.3     49375  25927
594     17 34272         Heritage Lake    1664 35.3     87358  36513
595     17 34332               Herrick     367 32.4     48750  24604
596     17 34358                Herrin   12806 41.1     45713  27284
597     17 34384              Herscher    1489 43.1     67404  35518
598     17 34423               Hettick     146 52.5     51250  31065
599     17 34449              Heyworth    3212 38.5     71771  29109
600     17 34514         Hickory Hills   14253 36.9     66272  29712
601     17 34553               Hidalgo     100 49.4     33929  18622
602     17 34670              Highland   10122 39.5     64332  33027
603     17 34722         Highland Park   29596 47.2    147067  90133
604     17 34865              Highwood    5293 34.6     74875  37861
605     17 34982             Hillcrest    1672 38.8     62656  24707
606     17 35047             Hillsboro    6177 39.6     61293  18669
607     17 35073             Hillsdale     531 42.3     75625  26316
608     17 35086              Hillside    7937 40.2     56019  25953
609     17 35203              Hillview     161 38.3     38750  14020
610     17 35268              Hinckley    2190 37.1     70278  33663
611     17 35281             Hindsboro     400 43.0     58750  27193
612     17 35307              Hinsdale   17366 42.3    206701 106061
613     17 35385              Hodgkins    1753 38.1     54792  24597
614     17 35398               Hoffman     775 32.5     57600  21339
615     17 35411       Hoffman Estates   50464 38.2     92423  40016
616     17 35463               Holcomb     157 33.8     46875  20006
617     17 35515         Holiday Hills     653 48.8     74375  35545
618     17 35541        Holiday Shores    3080 41.9    104038  40132
619     17 35671         Hollowayville      57 45.8        NA  23505
620     17 35814                 Homer    1320 30.9     65347  44604
621     17 83271            Wood River   10149 36.0     50047  26915
622     17 83336               Woodson     493 48.9     61250  32415
623     17 83349             Woodstock   25391 36.7     69470  33528
624     17 83505                Worden     875 41.3     64091  28549
625     17 83518                 Worth   10544 42.2     59464  28284
626     17 83622                Wyanet    1227 37.3     47454  22490
627     17 83687               Wyoming    1395 43.5     48472  29448
628     17 83739                 Xenia     365 35.5     44167  21818
629     17 83765                  Yale     129 41.5     40208  17747
630     17 83817            Yates City     821 40.2     50313  29083
631     17 84038             Yorkville   19386 32.7    101245  35449
632     17 84155               Zeigler    1779 41.8     44342  17721
633     17 84220                  Zion   23677 33.0     56819  23345
634     17 35866              Hometown    4216 38.0     51487  24378
635     17 35879              Homewood   18656 39.3     77013  33243
636     17 36061             Hoopeston    5178 42.4     36484  23440
637     17 36074              Hooppole     178 52.2     37917  19484
638     17 36126              Hopedale     807 54.5     55227  30257
639     17 36150              Hopewell     427 50.5     83125  44373
640     17 36190          Hopkins Park     591 47.8     26555  14536
641     17 36347              Hoyleton     507 31.2     59028  23391
642     17 36438                Hudson    2128 35.0     96538  34023
643     17 36477                  Huey     136 45.0     31500  24390
644     17 36516                  Hull     390 43.0     47292  24101
645     17 36542              Humboldt     446 41.3     39875  22972
646     17 36568                  Hume     495 39.3     56964  26848
647     17 36750               Huntley   27413 48.8     77420  39735
648     17 36815                 Hurst     756 42.5     28929  20989
649     17 36841           Hutsonville     568 40.7     46875  23468
650     17 37062         Illinois City      58 70.2     37222  21147
651     17 37127            Illiopolis     767 41.8     64375  28855
652     17 37179                   Ina    2243 40.3     43636   4800
653     17 37218          Indian Creek     760 45.9    124375  48083
654     17 37257      Indian Head Park    3744 55.3     88496  53926
655     17 37348             Indianola     204 53.7     68000  23052
656     17 37439              Industry     540 29.8     54306  23531
657     17 37465          Ingalls Park    3022 37.6     53750  23625
658     17 37608             Inverness    7959 52.6    185558  82512
659     17 37621                  Iola      91 27.9     50000  19992
660     17 37647                 Ipava     558 37.5     33958  23226
661     17 37712              Iroquois     287 38.3     61964  25151
662     17 37738                Irving     340 43.2     24625  17624
663     17 37777             Irvington     588 52.9     58438  30049
664     17 37803                 Irwin      39 53.5     66250  37305
665     17 37894           Island Lake    8112 41.1     83970  35714
666     17 37907                Itasca    9496 48.2     99706  53551
667     17 37933                  Iuka     486 35.2     41500  19740
668     17 37998              Ivesdale     250 39.9     51477  25204
669     17 38115          Jacksonville   18784 37.1     46500  26034
670     17 38232            Janesville      38 21.7        NA     NA
671     17 38323        Jeffersonville     333 37.7     39063  20040
672     17 38349            Jeisyville      58 58.8     67500  36953
673     17 38375                Jerome    1973 34.8     51302  30001
674     17 35835            Homer Glen   24521 43.6    108783  42934
675     17 38414           Jerseyville    7860 39.7     57967  29205
676     17 38427                Jewett     281 52.0     48393  18848
677     17 38479             Johnsburg    6354 40.5    116556  42660
678     17 38531          Johnsonville      50 56.7     28214  20468
679     17 38544         Johnston City    3414 43.9     37500  24084
680     17 38570                Joliet  147323 33.8     72871  29615
681     17 38635             Jonesboro    1772 40.3     37355  24126
682     17 38674                 Joppa     263 26.8     29792  17967
683     17 38726                Joslin      30   NA        NA     NA
684     17 38739                   Joy     292 42.5     50156  23914
685     17 38778              Junction      82 51.1     29464  25451
686     17 38791         Junction City     581 36.3     45750  17680
687     17 38830               Justice   12677 32.0     57523  27526
688     17 38856            Kampsville     321 39.1     49583  22374
689     17 38869                  Kane     244 44.5     31875  16731
690     17 38895             Kaneville     518 53.2     64688  35175
691     17 38921               Kangley     244 58.8     52857  30513
692     17 38934              Kankakee   25818 35.8     38763  20680
693     17 38986                Kansas     771 44.5     36375  29752
694     17 39038                 Kappa     225 25.9     87500  46125
695     17 39077                Karnak     473 34.1     35521  15376
696     17 39129             Kaskaskia      29 15.6        NA  22417
697     17 39233                Keenes      53 47.0     45341  21708
698     17 39259             Keensburg     111 56.1     59750  33183
699     17 39298            Keithsburg     524 50.4     37143  30202
700     17 39324                  Kell     142 44.7     36667  20046
701     17 39441               Kempton     317 35.5     60703  26727
702     17 39519            Kenilworth    2356 43.5    241591 105512
703     17 39532                Kenney     447 60.6     60536  35790
704     17 39727               Kewanee   12622 40.3     40196  21170
705     17 39753             Keyesport     493 45.1     33629  16786
706     17 39857             Kilbourne     350 39.6     33750  17228
707     17 39883               Kildeer    4007 42.9    212500  80875
708     17 39909               Kincaid    1428 49.8     57139  34174
709     17 39922            Kinderhook     307 34.2     65268  27895
710     17 39987                 Kings     348 16.8     61250  15584
711     17 40052              Kingston     107 31.8        NA  17697
712     17 40065              Kingston    1183 37.3     84375  30270
713     17 40091        Kingston Mines     240 36.0     51250  22852
714     17 40117              Kinmundy     915 45.5     31111  22132
715     17 40143               Kinsman      96 29.5     81875  34721
716     17 40156              Kirkland    1524 34.5     63708  27281
717     17 40182              Kirkwood     742 40.8     51094  32024
718     17 40364             Knollwood    1684 38.0    126250  39902
719     17 40416             Knoxville    3137 40.1     63750  27526
720     17 40520              La Clede      33 50.9        NA  16927
721     17 40559                 Lacon    1771 48.2     52188  31687
722     17 40598                  Ladd    1242 41.7     59737  29588
723     17 40676            La Fayette     155 41.0     34792  24199
724     17 40767             La Grange   15555 42.3    122629  60162
725     17 40793        La Grange Park   13129 39.9    107945  49794
726     17 40832              La Harpe    1318 53.0     37361  25743
727     17 40884       Lake Barrington    5094 55.8    105651  64561
728     17 40910            Lake Bluff    5540 45.0    174444  87123
729     17 40962          Lake Camelot    1631 37.9    102586  39124
730     17 40980          Lake Carroll     500 66.4     84048  38274
731     17 40988        Lake Catherine    1289 47.5     78889  39950
732     17 41040             Lake City     107 52.8     65750  32880
733     17 41105           Lake Forest   19497 47.4    189118  98058
734     17 41157          Lake Holiday    5365 43.5     82195  32534
735     17 41183     Lake in the Hills   28617 35.2     96470  38782
736     17 41214            Lake Ka-Ho     234 49.5     41875  24102
737     17 41326              Lakemoor    5820 35.2     80966  36968
738     17 41346     Lake of the Woods    2515 31.8     59257  26662
739     17 41404       Lake Petersburg     547 64.9     96750  52374
740     17 41456        Lake Summerset    1958 46.1     91538  40447
741     17 41586            Lake Villa    8601 37.5    105639  42513
742     17 41651              Lakewood    4013 40.1    149583  57167
743     17 41677              Lakewood      32 58.5        NA     NA
744     17 41716       Lakewood Shores     566 34.3     66417  27100
745     17 41742           Lake Zurich   19912 39.0    113467  49263
746     17 41859                Lanark    1453 43.9     47917  29028
747     17 41950                  Lane     164 11.0     57813  14357
748     17 42002          Langleyville     439 53.5     60221  28541
749     17 42028               Lansing   27614 40.2     57659  28708
750     17 42067               LaPlace     128 57.5     71875  59013
751     17 42080            La Prairie      64 40.6     68056  21044
752     17 42171               La Rose     114 45.5     27500  21561
753     17 42184               LaSalle    9086 38.6     53208  27428
754     17 42249                Latham     355 39.1     54309  26002
755     17 42392              Lawrence     150 51.1     98977  52981
756     17 42405         Lawrenceville    4365 40.7     41004  24600
757     17 42457            Leaf River     510 43.9     60000  31913
758     17 42496               Lebanon    4443 29.8     61298  27592
759     17 42587                   Lee     380 36.5     82500  34351
760     17 42600            Lee Center     136 54.2        NA  44363
761     17 42756                Leland     932 40.9     60197  26783
762     17 42769          Leland Grove    1237 54.6    111458  77309
763     17 42795                Lemont   17131 43.5    114509  45675
764     17 42834                  Lena    2780 44.7     56118  29112
765     17 42860              Lenzburg     411 41.4     40000  22876
766     17 42912               Leonore     135 47.4        NA  31701
767     17 42938                 Lerna     251 38.6     44286  19442
768     17 42971                Le Roy    3429 46.3     79250  35801
769     17 43055             Lewistown    2021 41.7     52393  27272
770     17 43094             Lexington    2049 35.6     82757  33236
771     17 43133               Liberty     398 40.8     63333  23995
772     17 43250          Libertyville   20300 43.2    150580  72487
773     17 43406             Lily Lake    1333 39.7    119792  49711
774     17 43445                  Lima     105 53.7     58750  28376
775     17 43510             Limestone    1536 37.5     90750  44961
776     17 43536               Lincoln   13742 39.0     48510  29046
777     17 43666          Lincolnshire    7694 51.1    130076  82088
778     17 43744           Lincolnwood   12338 46.4     90422  44380
779     17 43770           Lindenhurst   14317 37.6    115495  44420
780     17 43900                Lisbon     281 29.4     63750  24321
781     17 43939                 Lisle   23363 36.8     96945  50750
782     17 43965            Litchfield    6626 48.1     45772  27780
783     17 43978            Literberry      78 66.5        NA  38624
784     17 44056             Littleton     149 52.8     52250  27933
785     17 41794             La Moille     801 37.3     60288  28568
786     17 44082           Little York     423 28.4     44063  21222
787     17 44121             Liverpool     128 46.9     50625  23359
788     17 44160            Livingston     789 43.7     56500  29447
789     17 44173                 Loami    1053 29.2     54167  19840
790     17 44225              Lockport   25499 36.8     87817  35707
791     17 44244      Lockport Heights     885 27.9     82847  27468
792     17 44264                  Loda     345 33.8     50714  24646
793     17 44381                 Lomax     375 35.8     41250  24103
794     17 44407               Lombard   43755 37.7     86167  41154
795     17 44446          London Mills     326 46.3     43750  34731
796     17 44498            Long Creek    1454 50.4     78977  34101
797     17 44524            Long Grove    7907 46.8    207188  83473
798     17 44550             Long Lake    3065 36.4     95764  28627
799     17 44576            Long Point     250 35.8     61875  21644
800     17 44602              Longview      99 44.7     26667  24206
801     17 44719               Loraine     412 45.7     49258  22935
802     17 44784               Lorenzo      31 25.8        NA     NA
803     17 44823               Lostant     463 34.4     64643  32931
804     17 44836           Lost Nation     570 64.0    112697  62070
805     17 44927            Louisville    1106 44.8     35298  23773
806     17 45031            Loves Park   23274 38.0     57096  31504
807     17 45044             Lovington    1156 40.4     47125  26443
808     17 45109              Lowpoint     145 30.1     52292  17974
809     17 45174                Ludlow     426 37.7     47679  20027
810     17 45278                Lyndon     604 41.4     37344  22859
811     17 45343           Lynn Center      39 53.7        NA  47431
812     17 45369             Lynnville     127 56.3     45000  35709
813     17 45421               Lynwood    9210 38.4     76154  31039
814     17 45434                 Lyons   10338 36.4     66005  28221
815     17 45525               McClure     241 55.8     42614  23432
816     17 45564                McCook     317 31.4     75417  28757
817     17 45616         McCullom Lake    1193 36.8     62430  27630
818     17 45642             Macedonia      41 36.9        NA  26993
819     17 45694               McHenry   26889 41.3     77004  38090
820     17 45726        Machesney Park   22709 39.2     64263  30478
821     17 45785              Mackinaw    1970 38.6     66154  30896
822     17 45811                McLean     808 39.8     69250  33259
823     17 45824           McLeansboro    2539 42.1     55714  27621
824     17 45850                McNabb     237 49.5     68125  30632
825     17 45889                Macomb   17658 27.2     34467  23090
826     17 45941                 Macon    1091 42.0     64766  30734
827     17 45993               Madison    2941 45.8     30592  19262
828     17 46058             Maeystown     106 31.6     82500  29986
829     17 46110              Magnolia     263 49.0     53750  30439
830     17 46136               Mahomet    8888 37.4    113871  41978
831     17 46214               Makanda     541 47.0     68958  38688
832     17 46240                Malden     411 33.0     49688  20975
833     17 46279                 Malta    1431 38.3     73250  28118
834     17 46331            Manchester     220 50.7     47031  28624
835     17 46357             Manhattan    8218 33.3    105726  37174
836     17 46383                Manito    1642 41.0     53194  32894
837     17 46422               Manlius     274 45.8     47321  27987
838     17 46487             Mansfield    1006 42.5     60962  31208
839     17 46500               Manteno    8545 43.5     71576  36235
840     17 46604            Maple Park    1599 41.8     90833  34935
841     17 46643              Mapleton     333 35.9     55380  23332
842     17 46695                Maquon     181 45.1     48250  22554
843     17 46734            Marcelline      76 63.3        NA  28725
844     17 46786               Marengo    7871 32.5     69688  30626
845     17 46825              Marietta      61 62.4     48750  25644
846     17 46864                Marine     994 44.3     63750  29434
847     17 46916                Marion   17539 38.9     44929  29475
848     17 46955               Marissa    1263 48.8     43512  25238
849     17 46981                  Mark     534 43.9     72500  41424
850     17 47007               Markham   12401 32.0     42050  19580
851     17 47046                Marley     167 56.7     81615  49604
852     17 47072                 Maroa    1982 32.4     62708  24885
853     17 47111     Marquette Heights    2742 39.5     59250  29463
854     17 47150            Marseilles    4579 41.8     51835  26182
855     17 47163              Marshall    3615 42.9     51201  29448
856     17 47254          Martinsville    1259 39.8     46875  20993
857     17 47280             Martinton     346 45.2     65625  25608
858     17 47397             Maryville    7962 49.2     84293  45441
859     17 47423             Mascoutah    8454 34.8     74937  29884
860     17 47475            Mason City    2342 46.3     40714  26546
861     17 47527           Matherville     869 34.2     55536  22553
862     17 47540              Matteson   19374 44.0     84611  38867
863     17 47553               Mattoon   17273 42.2     40576  24615
864     17 47592                Maunie     163 40.3     45000  20115
865     17 47774               Maywood   23351 37.4     56623  23725
866     17 47787                 Mazon    1222 36.6     60966  32776
867     17 48021         Mechanicsburg     918 44.3     80972  35137
868     17 48073                 Media     110 51.1     63864  25797
869     17 48138                Medora     323 43.1     56250  27228
870     17 48242          Melrose Park   25404 33.6     53596  21881
871     17 48268                Melvin     397 35.8     46071  28528
872     17 48307                Mendon    1092 37.8     56000  23663
873     17 48333               Mendota    6927 39.5     58974  30470
874     17 48359             Menominee     237 53.4     95000  38157
875     17 48424             Meredosia     904 45.9     49688  22404
876     17 48554      Merrionette Park    1973 38.9     43047  27153
877     17 48567               Merritt      26 52.5        NA  25169
878     17 48606              Metamora    3840 37.6     77050  39650
879     17 48632               Metcalf     239 44.4     45919  21763
880     17 48645            Metropolis    6053 43.4     40883  21730
881     17 48671               Mettawa     573 50.4    123125  85051
882     17 48684                 Meyer       0   NA        NA     NA
883     17 48853            Middletown     212 41.8     51477  24532
884     17 48892            Midlothian   14464 39.7     61067  29855
885     17 49009                 Milan    5001 40.7     56193  37065
886     17 49048               Milford    1230 44.4     47830  23502
887     17 49100             Millbrook     357 41.5     91875  36605
888     17 49178            Mill Creek      30 41.8        NA  20417
889     17 49191         Milledgeville     987 41.4     43661  30203
890     17 49243           Millersburg      76 58.3        NA  20574
891     17 49308            Millington     662 37.5     74063  36357
892     17 49347           Mill Shoals     171 35.9     50000  21105
893     17 49386             Millstadt    3882 42.8     78379  40586
894     17 49477                Milton     317 29.3     34063  18230
895     17 49516               Mineral     219 41.1     38125  22874
896     17 49555                Minier    1090 41.5     59886  34513
897     17 49568                Minonk    2007 38.6     55515  31617
898     17 49607               Minooka   11069 33.5     97097  34655
899     17 49698              Mitchell    1233 42.0     62941  39108
900     17 47449                 Mason     243 45.5     53750  22940
901     17 49802               Modesto     222 46.5     59375  23683
902     17 49854                Mokena   20720 42.0    109935  47432
903     17 49867                Moline   41213 39.6     57475  31387
904     17 49893               Momence    3051 37.3     45188  21984
905     17 49945                 Monee    5080 37.7     76638  39174
906     17 50010              Monmouth    8837 36.5     50740  23687
907     17 50062         Monroe Center     384 40.3     75833  32715
908     17 50218            Montgomery   19515 30.2     99208  31097
909     17 50244            Monticello    5815 39.7     76667  33845
910     17 50283              Montrose     202 39.5     45469  21355
911     17 50452                  Moro     362 37.6     47042  22139
912     17 50491                Morris   14420 37.6     61419  32024
913     17 50530              Morrison    3850 38.8     58958  26271
914     17 50543         Morrisonville    1123 37.0     64219  31368
915     17 50621                Morton   15791 43.6     78979  42184
916     17 50647          Morton Grove   22937 47.2     87063  40923
917     17 00113              Abingdon    3570 38.9     43171  20530
918     17 00178                 Adair     179 54.8     78026  40110
919     17 00191                 Adams      44 55.4        NA  33393
920     17 00230            Addieville     386 32.9     92841  33149
921     17 00243               Addison   36714 37.8     68534  30202
922     17 00295               Adeline      99 43.1     50833  23106
923     17 00516                Albany     812 41.6     72857  33747
924     17 00555                Albers    1379 40.5     94375  34104
925     17 00568                Albion    2215 38.9     43971  24818
926     17 00594                 Alden     167 13.4        NA   7508
927     17 00646                 Aledo    3625 47.2     50617  26481
928     17 00659             Alexander     159 33.8     64500  28421
929     17 00672                Alexis     862 39.9     59000  26018
930     17 00685             Algonquin   30848 42.5    109819  46601
931     17 00737              Alhambra     676 45.3     50714  25055
932     17 00815             Allendale     655 33.1     62188  27137
933     17 00867            Allenville     133 34.3     53611  19497
934     17 00880              Allerton     267 42.8     60208  24257
935     17 00919                  Alma     296 41.3     36250  21977
936     17 00958               Alorton    2077 27.9     19764  15781
937     17 00971                 Alpha     674 40.2     67813  30993
938     17 00997                 Alsey     175 36.8     39250  20995
939     17 01010                 Alsip   18843 39.0     58768  30308
940     17 01049              Altamont    2231 39.2     48359  27534
941     17 01114                 Alton   26490 38.1     43291  24943
942     17 01140                Altona     634 31.9     59583  27144
943     17 01205             Alto Pass     342 50.0     50000  23844
944     17 01242                 Alvin     267 41.4     58056  19857
945     17 01270                 Amboy    2453 41.0     59815  26668
946     17 01361                Anchor     241 26.6     60781  19234
947     17 01426             Andalusia    1118 49.0     68000  37306
948     17 01491               Andover     460 41.8     57344  26524
949     17 01517                Andres      36 48.1        NA  32119
950     17 01543                  Anna    4149 42.4     36303  22455
951     17 01556             Annapolis      28 45.3     45625  23232
952     17 01569               Annawan     825 41.7     51250  29501
953     17 01595               Antioch   14231 40.1    103659  41671
954     17 01647     Apple Canyon Lake     639 55.2     79844  40355
955     17 01673           Apple River     333 34.5     42778  21763
956     17 01803          Arbury Hills    1637 37.3     95595  32822
957     17 01881                Arcola    2840 35.5     60720  25602
958     17 01946            Arenzville     400 37.7     81250  30825
959     17 01972               Argenta    1051 37.5     61905  26814
960     17 02050                Argyle     353 48.5    139821  51234
961     17 02102             Arlington     211 46.5     73750  28693
962     17 50751            Mound City     777 37.9     41364  16196
963     17 50777                Mounds     916 40.1     26645  14395
964     17 50790         Mound Station     141 23.8     70625  24252
965     17 50829          Mount Auburn     644 38.7     49904  22930
966     17 50868          Mount Carmel    6922 47.5     41675  27654
967     17 50881         Mount Carroll    1503 46.5     54821  27966
968     17 50920           Mount Clare     370 57.3     31250  21231
969     17 50933            Mount Erie     114 28.6     38125  25000
970     17 50998          Mount Morris    3182 44.8     42962  26160
971     17 51024           Mount Olive    2052 45.9     42685  27199
972     17 51089        Mount Prospect   54165 40.8     84353  40452
973     17 51128         Mount Pulaski    1683 42.2     60674  28400
974     17 51154        Mount Sterling    2220 35.0     45536  24433
975     17 51180          Mount Vernon   14769 38.6     42194  26558
976     17 51206            Mount Zion    5707 41.2     79154  38717
977     17 51232              Moweaqua    2215 36.9     61250  26487
978     17 51271                 Muddy      38 53.8        NA  42237
979     17 51284        Mulberry Grove     847 35.2     40800  19672
980     17 51310            Mulkeytown     128 48.1        NA  17974
981     17 51336                Muncie     115 45.8     68125  27329
982     17 51349             Mundelein   31574 38.0     91535  39003
983     17 51453           Murphysboro    7727 40.5     37929  22664
984     17 51479           Murrayville     582 43.1     50938  23071
985     17 51544               Nachusa     122 52.7        NA  26425
986     17 51622            Naperville  147734 39.1    127648  58075
987     17 51648               Naplate     442 51.5     45673  28150
988     17 51661                Naples     143 47.4        NA  31416
989     17 51700             Nashville    3076 43.6     56019  29433
990     17 51726                 Nason     221 51.4     45833  23776
991     17 51791                Nauvoo     948 38.6     50938  20386
992     17 51882                  Nebo     362 37.3     35625  16117
993     17 51934                Nekoma      48   NA        NA     NA
994     17 51947                Nelson     132 38.7     33750  22076
995     17 51986                 Neoga    1579 36.5     50694  23353
996     17 51999              Neponset     382 36.5     54750  24529
997     17 52103                Newark    1325 43.2    101750  36725
998     17 52116            New Athens    1920 40.7     69100  29996
999     17 52142             New Baden    3150 47.1     79412  43061
1000    17 52155           New Bedford      57 59.5     47500  23430
1001    17 52168            New Berlin    1324 36.5     69773  32646
1002    17 50699             Mossville     263 36.5     85379  22714
1003    17 52220            New Boston     515 47.6     41458  24777
1004    17 52285          New Burnside     132 60.5     30909  22992
1005    17 52311            New Canton     257 51.2     30938  17423
1006    17 52415           New Douglas     321 46.4     44375  29340
1007    17 52467       New Grand Chain     172 49.3     34375  22224
1008    17 52506             New Haven     423 41.9     39375  20702
1009    17 52545           New Holland     257 47.4     77083  30580
1010    17 52584             New Lenox   26788 36.0    115327  44665
1011    17 52623                Newman     777 61.2     58125  27455
1012    17 52701           New Milford    1356 37.4     57000  25918
1013    17 52714            New Minden     185 43.2     61250  38088
1014    17 52805             New Salem     207 35.0     49125  29288
1015    17 52844                Newton    2884 43.4     43293  24801
1016    17 52961               Niantic     657 33.3     53500  23163
1017    17 53000                 Niles   29198 47.6     63490  33692
1018    17 02154     Arlington Heights   75071 43.4    100221  51340
1019    17 02206             Armington     415 34.8     41250  19451
1020    17 02258            Aroma Park     692 47.0     48750  25985
1021    17 02342            Arrowsmith     404 38.6     68750  19256
1022    17 02414                Arthur    2180 47.3     62250  29574
1023    17 02479                Ashkum     806 37.6     55625  27572
1024    17 02505               Ashland    1272 43.0     60104  33764
1025    17 02531                Ashley     471 37.2     40125  27002
1026    17 02557               Ashmore    1021 37.1     46307  21062
1027    17 02583                Ashton     827 45.9     53125  26755
1028    17 02609            Assumption    1153 37.2     46563  24281
1029    17 02635               Astoria    1154 32.6     38068  21425
1030    17 02674                Athens    2349 35.9     78194  35191
1031    17 02726              Atkinson    1335 38.8     47833  26704
1032    17 02752               Atlanta    2156 35.5     55694  24863
1033    17 02882                Atwood    1126 38.9     48750  25087
1034    17 02921                Auburn    4701 42.3     71537  31083
1035    17 02986               Augusta     605 45.3     36921  21274
1036    17 03012                Aurora  199326 34.4     74659  32537
1037    17 03103                   Ava     541 35.2     47262  25114
1038    17 03181               Aviston    2173 35.2     81198  36182
1039    17 03207                  Avon     690 43.6     35833  22257
1040    17 03337           Baileyville     126 27.1     52188  20573
1041    17 03454               Baldwin     292 30.0     39904  17501
1042    17 03571                Banner     207 45.4     47188  35152
1043    17 03610           Bannockburn    1194 24.6    115833  54026
1044    17 03675              Bardolph     277 42.1     21750  17526
1045    17 03844            Barrington   10442 40.8    112794  64507
1046    17 03883      Barrington Hills    4156 50.2    157414  88747
1047    17 03948                 Barry    1698 36.2     45139  21451
1048    17 03987               Barstow      73 31.8     51667  21960
1049    17 04000              Bartelso     789 48.2     82361  42470
1050    17 04013              Bartlett   40894 40.6    109980  41821
1051    17 04039           Bartonville    6174 41.5     56515  28268
1052    17 04052                 Basco      85 54.1     40313  26560
1053    17 04078               Batavia   26479 38.8     97995  46134
1054    17 04117             Batchtown     202 43.3     67917  27152
1055    17 04156                  Bath     300 47.3     42813  25570
1056    17 04247                Baylis     126 52.5     53750  30269
1057    17 04273      Bay View Gardens     487 39.2     36080  17786
1058    17 04303            Beach Park   13433 35.4     71250  28292
1059    17 04351            Beardstown    5504 33.0     43425  20599
1060    17 04403                Beason     201 35.8     39583  19737
1061    17 04507           Beaverville     370 49.9     49464  23676
1062    17 04533            Beckemeyer    1054 44.3     51719  23015
1063    17 04572          Bedford Park     669 37.4     99375  37871
1064    17 04585               Beecher    4443 42.0     86576  34290
1065    17 04598          Beecher City     373 40.9     42679  27677
1066    17 04689               Belgium     383 41.8     41667  21219
1067    17 04715               Belknap     142 50.1     42500  20737
1068    17 04793    Belle Prairie City      75 40.5        NA  21993
1069    17 04806            Belle Rive     378 38.8     45192  27686
1070    17 04845            Belleville   41256 38.1     52843  27896
1071    17 04871              Bellevue    2336 45.2     50550  32152
1072    17 04897            Bellflower     430 40.8     57083  28844
1073    17 04936              Bellmont     238 40.0     42083  22719
1074    17 53078                 Niota      85 51.7     48750  27058
1075    17 53143                 Noble     647 46.1     40500  23277
1076    17 53169               Nokomis    2213 37.2     52500  30740
1077    17 53195                  Nora     189 23.6     44263  22831
1078    17 53234                Normal   54699 25.2     58381  29948
1079    17 53377              Norridge   14465 46.6     78300  36959
1080    17 53390                Norris     255 30.3     51875  21951
1081    17 53403           Norris City    1325 36.3     33250  19026
1082    17 53442          North Aurora   18089 41.0     90315  40697
1083    17 53455      North Barrington    2789 49.3    197188  97794
1084    17 53481            Northbrook   33216 49.7    128883  72969
1085    17 53559         North Chicago   29967 24.1     47213  22454
1086    17 53585            North City     683 55.3     57500  32945
1087    17 53663            Northfield    5678 52.3    143661 103893
1088    17 53793       North Henderson     239 34.2     74107  36613
1089    17 53871             Northlake   12235 37.7     60495  23813
1090    17 54092           North Pekin    1680 43.5     64866  31070
1091    17 54144       North Riverside    6460 39.3     55879  35963
1092    17 54222           North Utica    1136 46.2     87946  40113
1093    17 54404               Norwood     470 39.3     63500  24563
1094    17 54534             Oak Brook    8085 55.1    140743  79838
1095    17 54560      Oakbrook Terrace    2909 35.8     61563  37713
1096    17 54586               Oakdale     291 38.0     80893  28628
1097    17 54625               Oakford     193 46.3     57250  28785
1098    17 54638            Oak Forest   27403 42.0     78865  35289
1099    17 54703             Oak Grove     427 39.7     29167  18110
1100    17 54781               Oakland    1062 42.1     41806  24515
1101    17 54820              Oak Lawn   55432 41.0     69352  33998
1102    17 54885              Oak Park   52102 40.6     96945  58262
1103    17 54924               Oak Run     468 61.7     86250  62863
1104    17 55002               Oakwood    1514 33.8     45602  22833
1105    17 55041         Oakwood Hills    2543 40.1    104375  41134
1106    17 55106                Oblong    1520 34.9     47560  21621
1107    17 55132                Oconee     137 46.8     59167  27582
1108    17 55171                 Odell     869 36.7     44792  32884
1109    17 55210                  Odin     999 48.9     36113  21537
1110    17 55249              O'Fallon   29487 37.7     90432  43316
1111    17 55275                 Ogden     773 36.4     62500  29814
1112    17 55353               Oglesby    3652 40.7     61250  29569
1113    17 53039               Nilwood     188 54.5     47292  22410
1114    17 55379                  Ohio     509 45.2     60208  31656
1115    17 55418                Ohlman     103 60.3     42679  33769
1116    17 55470             Okawville    1469 38.1     72330  33533
1117    17 55639        Old Mill Creek     200 61.1    100648  39789
1118    17 55717            Old Ripley      79 30.9     69167  24977
1119    17 55756       Old Shawneetown      75 50.8     16667  18339
1120    17 55847          Olive Branch     610 45.1     46339  18653
1121    17 55886                Olivet     384 35.5     60521  36599
1122    17 55899               Olmsted     380 34.8     22500  19210
1123    17 55912                 Olney    8872 40.6     49650  25755
1124    17 55938        Olympia Fields    5028 46.7     93350  46882
1125    17 56003                 Omaha     237 38.9     45375  20146
1126    17 56081                Onarga    1134 36.6     48024  19380
1127    17 56159                Oneida     778 41.5     56705  25551
1128    17 56198                Opdyke     303 40.0     63750  24612
1129    17 56211                Ophiem     180 32.8     61538  23728
1130    17 05092             Belvidere   24932 36.4     52609  24330
1131    17 05144                Bement    1490 44.0     47917  26722
1132    17 05209                 Benld    1594 38.3     41786  20221
1133    17 05248           Bensenville   18273 35.9     64401  27530
1134    17 05261                Benson     460 39.1     66100  30827
1135    17 05274               Bentley      18 58.3     74375  35594
1136    17 05300                Benton    6977 40.5     44795  27932
1137    17 05404              Berkeley    5079 42.3     71025  29940
1138    17 05443                Berlin     182 50.2     63125  31444
1139    17 05573                Berwyn   54850 35.6     61915  25939
1140    17 05599              Bethalto    9258 40.6     66834  32225
1141    17 05612               Bethany    1311 48.5     44924  27216
1142    17 05729               Beverly     110 70.2        NA  47760
1143    17 05859      Big Foot Prairie       0   NA        NA     NA
1144    17 05898            Biggsville     438 35.7     87143  73889
1145    17 05976              Big Rock    1271 41.1    106375  46158
1146    17 06028               Bingham      86 44.0     44583  17507
1147    17 06171           Bishop Hill      92 62.4        NA  31139
1148    17 06184              Bismarck     536 45.0     58393  24658
1149    17 06444           Blairsville     322 41.8     57955  25624
1150    17 06470         Blandinsville     668 34.8     41667  21768
1151    17 06565            Bloomfield      99  9.4        NA     NA
1152    17 06587          Bloomingdale   21905 40.9     87397  47926
1153    17 06613           Bloomington   77725 35.5     66861  36739
1154    17 06704           Blue Island   23160 35.9     51859  23061
1155    17 06756            Blue Mound    1135 37.6     49877  25117
1156    17 06899                Bluffs     773 39.1     62656  25259
1157    17 06964               Bluford     662 34.5     49911  21333
1158    17 07133           Bolingbrook   74319 36.6     92184  35900
1159    17 07211             Bondville     455 50.3     53750  31857
1160    17 07224              Bone Gap     151 39.5     41250  19083
1161    17 07237              Bonfield     586 42.6     68750  28422
1162    17 07263                Bonnie     440 41.5     59000  26466
1163    17 07276           Bonnie Brae    1248 34.1     74511  26050
1164    17 07315                 Boody     442 34.4     51417  34651
1165    17 07419          Boulder Hill    9081 35.3     69227  25669
1166    17 07471           Bourbonnais   19639 34.0     76920  30972
1167    17 07510                 Bowen     583 33.6     58929  21473
1168    17 07640            Braceville     886 34.7     76667  29773
1169    17 07692              Bradford     673 45.9     53333  24184
1170    17 04975              Bellwood   18799 36.1     63006  27244
1171    17 07744               Bradley   15296 37.1     54824  26813
1172    17 07770             Braidwood    6338 41.5     67057  34011
1173    17 07913                Breese    4160 39.9     70411  43197
1174    17 08186            Bridgeport    1919 37.5     58085  30074
1175    17 08225            Bridgeview   15576 37.5     55102  26074
1176    17 08264              Brighton    2315 37.5     61167  26345
1177    17 08303             Brimfield     797 38.9     54821  25490
1178    17 08420            Broadlands     340 40.0     53500  22762
1179    17 08446             Broadview    7677 44.1     54537  29155
1180    17 08472             Broadwell     188 44.7     56607  26613
1181    17 08524               Brocton     335 48.6     51591  23881
1182    17 08576            Brookfield   18520 40.1     84891  38222
1183    17 08667              Brooklyn     428 44.6     19188  12163
1184    17 08706             Brookport     823 43.1     32961  21116
1185    17 08875             Broughton     116 51.4     23571  21172
1186    17 56237               Oquawka    1352 48.5     40898  21993
1187    17 56341           Orangeville     797 39.4     53550  25597
1188    17 56471                Oreana     954 37.8     74643  28441
1189    17 56484                Oregon    3747 49.3     58125  30077
1190    17 56536                Orient     434 46.2     35234  18055
1191    17 56601                 Orion    1895 36.9     68625  33310
1192    17 56627          Orland Hills    7069 37.3     82337  35688
1193    17 56640           Orland Park   58380 46.1     84676  42900
1194    17 56796                  Osco     110 52.0    116923  40368
1195    17 56887                Oswego   35470 37.0     97330  37053
1196    17 56926                Ottawa   18742 39.5     53544  28365
1197    17 56978            Otterville     195 59.5     53264  22786
1198    17 57043               Owaneco     259 36.3     64063  25636
1199    17 57121               Oxville      18 51.3        NA  12100
1200    17 57160             Paderborn      65 67.2        NA  49229
1201    17 57225              Palatine   67875 37.8     83495  43978
1202    17 57277             Palestine    1200 47.5     41700  24531
1203    17 57303                Palmer     288 43.5     65625  24719
1204    17 57329               Palmyra     647 43.7     31563  21406
1205    17 57342                Paloma     174 42.6        NA  26530
1206    17 57381         Palos Heights   12460 51.7     90995  44721
1207    17 57394           Palos Hills   17172 44.6     64364  34564
1208    17 57407            Palos Park    4779 58.8    114020  63500
1209    17 57472                  Pana    5338 39.8     47701  23692
1210    17 57498                Panama     221 50.5     55114  26720
1211    17 57524                Panola      18 58.5        NA  37283
1212    17 57576              Papineau     128 51.0     42750  21655
1213    17 57628                 Paris    8616 43.5     42446  24984
1214    17 57654             Park City    7636 29.7     50860  18388
1215    17 57693           Parkersburg     223 42.8     35000  20998
1216    17 57732           Park Forest   20715 39.4     56393  26078
1217    17 57875            Park Ridge   37431 45.2    113809  58978
1218    17 58057                Patoka     585 42.3     52917  24150
1219    17 58174                Pawnee    2522 37.2     69891  31997
1220    17 58226               Paw Paw     999 34.8     51696  25256
1221    17 58239                Paxton    4076 38.9     51716  26734
1222    17 58265                Payson    1398 27.8     62813  24765
1223    17 58343                 Pearl      98 38.8     47188  14721
1224    17 58369            Pearl City     831 35.3     66458  27448
1225    17 58408            Pecatonica    1957 37.3     62250  27488
1226    17 58447                 Pekin   32796 40.8     50552  27461
1227    17 58577              Penfield     235 48.0     76250  33539
1228    17 59000                Peoria  112644 35.4     51736  31622
1229    17 59026        Peoria Heights    5825 38.2     45921  35152
1230    17 59052               Peotone    4066 38.3     80606  33932
1231    17 59104                 Percy    1110 23.8     36163  15800
1232    17 59156                 Perry     274 54.1     31750  24461
1233    17 59234                  Peru    9777 49.2     52635  34268
1234    17 59273               Pesotum     447 47.1     76339  33158
1235    17 59312            Petersburg    2564 39.8     62574  43622
1236    17 59520          Phillipstown      45 49.6     50000  28824
1237    17 59533                 Philo    1398 39.1     91156  36383
1238    17 59572               Phoenix    1402 43.2     30455  20421
1239    17 59709               Pierron     393 52.3     70313  29822
1240    17 59884         Pinckneyville    5391 39.2     29942  12360
1241    17 59988         Pingree Grove    8768 35.6     89683  41078
1242    17 60079            Piper City     855 45.0     36310  22757
1243    17 08953              Browning     145 41.1     57500  23611
1244    17 08979                Browns     226 46.0     63125  26477
1245    17 08992            Brownstown     839 33.9     47171  28772
1246    17 09148              Brussels     113 48.5        NA  25463
1247    17 09161                Bryant     225 39.8     47188  29394
1248    17 09304            Buckingham     270 41.7     63750  23256
1249    17 09317               Buckley     510 49.8     57750  31902
1250    17 09330               Buckner     348 41.7     38542  21907
1251    17 09356                  Buda     606 39.8     42250  22041
1252    17 09434               Buffalo     345 47.3     52750  30388
1253    17 09447         Buffalo Grove   40804 41.5    117921  53787
1254    17 09499       Buffalo Prairie      27   NA        NA     NA
1255    17 09531           Bull Valley    1401 57.1     95556  51748
1256    17 09538               Bulpitt     236 28.0     59250  23528
1257    17 09551              Buncombe     283 23.8     45000  18786
1258    17 09577           Bunker Hill    1468 42.7     53606  25257
1259    17 09642               Burbank   28447 37.8     70052  27505
1260    17 09681       Bureau Junction     220 41.0     67500  29969
1261    17 09759            Burlington     514 39.0     80833  43425
1262    17 09798               Burnham    4121 38.1     46382  24430
1263    17 09889         Burnt Prairie      89 36.3     58438  22093
1264    17 09980            Burr Ridge   10761 54.5    151900  97295
1265    17 10006                Burton      41 60.5        NA     NA
1266    17 10045        Burtons Bridge     273 41.5     64271  24847
1267    17 10084                  Bush     303 45.4     67639  21219
1268    17 10110              Bushnell    2789 41.8     46667  22791
1269    17 10149                Butler     269 35.7     44091  17052
1270    17 10240                 Byron    3607 35.7     66607  30694
1271    17 10292                Cabery     260 37.4     52344  31818
1272    17 10305                 Cable     103 71.1        NA  52240
1273    17 10370               Cahokia   14035 32.4     30299  16769
1274    17 10383                 Cairo    1884 47.4     27661  19661
1275    17 10422             Caledonia     195 35.6     73958  41208
1276    17 10448               Calhoun     149 41.7     40625  31054
1277    17 10487          Calumet City   36229 36.9     50640  23688
1278    17 10513          Calumet Park    8383 40.9     50049  25250
1279    17 10591               Camargo     550 46.9     60469  25883
1280    17 10630               Cambria    1071 34.7     44375  23310
1281    17 10643             Cambridge    2173 40.9     66250  28932
1282    17 10695                Camden      71 57.8        NA  22813
1283    17 10747               Cameron     146 24.5     49439  33476
1284    17 10773         Campbell Hill     292 36.7     58125  26327
1285    17 10786     Campbell's Island     343 49.3     58304  27092
1286    17 10877            Camp Point    1144 36.6     52794  23555
1287    17 10906         Campton Hills   10962 42.6    173503  66605
1288    17 10916                Campus     122 41.5     81250  35320
1289    17 10936       Candlewick Lake    5351 32.5     78744  28572
1290    17 11007                Canton   13600 44.0     46362  30144
1291    17 11033              Cantrall     104 49.2     73125  40366
1292    17 11124                Capron    1656 30.9     67316  23843
1293    17 11150          Carbon Cliff    1937 34.8     37500  20198
1294    17 11163            Carbondale   25400 25.0     24093  21878
1295    17 11176           Carbon Hill     386 30.8     66250  26937
1296    17 11202           Carlinville    5645 37.0     46754  24429
1297    17 11215               Carlock     623 30.7     69167  30245
1298    17 11228               Carlyle    3595 36.1     54750  27101
1299    17 60209             Pittsburg     842 32.5     50114  21990
1300    17 60222            Pittsfield    4215 44.8     38573  25590
1301    17 60287            Plainfield   44857 37.1    131241  45365
1302    17 60339            Plainville     285 36.8     50500  22803
1303    17 60352                 Plano   11058 32.4     79113  29648
1304    17 60391            Plattville     190 43.0     87083  40353
1305    17 60534         Pleasant Hill    1122 32.3     44234  17893
1306    17 60599       Pleasant Plains     718 37.1     68750  32664
1307    17 60826           Plum Valley     379 53.8    179375  57850
1308    17 60833              Plymouth     441 50.8     47083  26386
1309    17 60872            Pocahontas     797 41.6     51375  23914
1310    17 60937                  Polo    2210 35.2     41667  23212
1311    17 61015               Pontiac   11430 39.3     49458  25474
1312    17 61067         Pontoon Beach    5822 34.0     56005  24806
1313    17 61080             Pontoosuc     109 35.8     42500  22224
1314    17 61145          Poplar Grove    4497 37.1     74896  38756
1315    17 61216       Port Barrington    1742 38.0    144531  55859
1316    17 61223            Port Byron    2028 38.6     81618  38387
1317    17 61314                 Posen    5772 29.1     47378  17927
1318    17 61366               Potomac     744 31.1     50333  23209
1319    17 61548          Prairie City     410 43.0     35625  15959
1320    17 61639     Prairie du Rocher     441 43.1     50000  28305
1321    17 61678         Prairie Grove    2023 43.8    109306  62758
1322    17 61743           Prairietown     298 41.7     90274  28708
1323    17 61782            Preemption     172 31.6     61563  23620
1324    17 61821             Prestbury    1978 37.6    112155  53360
1325    17 61860       Preston Heights    2529 35.3     37130  21337
1326    17 61899             Princeton    7589 47.8     51844  31187
1327    17 61925           Princeville    1684 41.4     58542  25766
1328    17 61977          Prophetstown    1965 48.1     60294  31457
1329    17 62016      Prospect Heights   15986 38.7     72500  39534
1330    17 62211               Pulaski     257 50.6     30972  14006
1331    17 62367                Quincy   40111 40.3     46935  29105
1332    17 62523                 Radom     136 51.7     50625  29923
1333    17 62588               Raleigh     268 45.9     44821  19762
1334    17 62627                Ramsey     871 38.6     31875  22526
1335    17 62744                Rankin     522 32.8     45313  17662
1336    17 62757                Ransom     355 38.1     63750  30877
1337    17 62783               Rantoul   12946 34.3     41837  22744
1338    17 62822           Rapids City    1010 39.0     84583  34944
1339    17 60144    Pistakee Highlands    3302 41.5     75064  36572
1340    17 62848               Raritan     123 36.4     64464  29183
1341    17 62965               Raymond     955 41.1     54904  24009
1342    17 63043               Red Bud    3504 40.6     57000  30761
1343    17 63056               Reddick     213 30.3     63125  24782
1344    17 63069                Redmon     165 53.8     53250  31661
1345    17 63355             Rentchler       4   NA        NA     NA
1346    17 63382            Rest Haven     550 48.4     61310  37135
1347    17 63420              Reynolds     680 32.6     72639  34809
1348    17 63537             Richfield       0   NA        NA     NA
1349    17 63641              Richmond    2106 41.3     44265  29840
1350    17 63706          Richton Park   13381 42.1     63777  28756
1351    17 63719              Richview     306 32.7     46875  20907
1352    17 63862            Ridge Farm     940 41.3     46346  23023
1353    17 63875            Ridgefield     274 33.7     93897  28999
1354    17 64005             Ridgewood    3089 28.7     53953  20606
1355    17 11267                Carman     187 64.2        NA  38370
1356    17 11293                 Carmi    4865 44.7     43587  27431
1357    17 11332          Carol Stream   39447 40.1     89820  37658
1358    17 11358       Carpentersville   37618 32.1     73105  26770
1359    17 11397         Carrier Mills    1819 40.0     42711  26653
1360    17 11462            Carrollton    2590 39.1     60280  30908
1361    17 11514           Carterville    5861 35.7     58362  32249
1362    17 11527              Carthage    2474 43.6     70563  36191
1363    17 11592                  Cary   17926 39.3    105344  44717
1364    17 11618                 Casey    2655 39.6     45784  26020
1365    17 11644            Caseyville    4203 39.0     51610  22927
1366    17 11774                Catlin    1972 43.6     49861  28436
1367    17 11826          Cave-In-Rock     199 36.7     24583  37208
1368    17 11982           Cedar Point     212 41.6     51250  26851
1369    17 12008            Cedarville     622 46.0     61154  29976
1370    17 12151          Central City    1353 34.0     42455  21892
1371    17 12164             Centralia   12354 40.8     39117  25141
1372    17 12203           Centreville    4946 42.8     22098  16349
1373    17 12268           Cerro Gordo    1275 36.0     57750  25923
1374    17 12294              Chadwick     529 50.4     50000  27324
1375    17 12385             Champaign   88288 27.3     49467  30245
1376    17 12450         Chandlerville     430 46.4     38750  33350
1377    17 12476             Channahon   13281 37.7     99429  38475
1378    17 12489          Channel Lake    1784 37.8     51875  33467
1379    17 12528                Chapin     536 35.3     58450  28551
1380    17 12567            Charleston   20141 27.7     41436  23901
1381    17 12684               Chatham   13231 35.2     96655  40423
1382    17 12710            Chatsworth    1332 44.5     50417  25587
1383    17 12801              Chebanse    1208 36.4     73239  31063
1384    17 12879               Chemung     738 42.0     38750  18329
1385    17 12931                Chenoa    1877 41.8     59904  26445
1386    17 12970                Cherry     479 49.9     49583  27386
1387    17 13074         Cherry Valley    2783 52.3     68397  35460
1388    17 13139               Chester    8264 40.9     51830  18069
1389    17 13165          Chesterfield     208 31.8     53977  22360
1390    17 13230              Chestnut      37 24.8     33977  24357
1391    17 14000               Chicago 2699347 34.8     62097  39068
1392    17 14026       Chicago Heights   29598 35.4     49880  21948
1393    17 14065         Chicago Ridge   14028 35.7     51555  24310
1394    17 14117           Chillicothe    6326 43.3     51998  30985
1395    17 14273              Chrisman    1632 37.8     51042  26336
1396    17 14286           Christopher    2601 39.1     33184  20279
1397    17 14351                Cicero   81471 31.7     53726  20040
1398    17 14442                 Cisco     284 41.6     56250  28439
1399    17 14455                 Cisne     505 56.4     36500  22425
1400    17 14468           Cissna Park     847 51.0     42750  26126
1401    17 14533             Claremont     218 40.2     38125  19035
1402    17 14572       Clarendon Hills    8834 41.3    103486  67540
1403    17 14715             Clay City     896 31.9     45104  23317
1404    17 14767               Clayton     585 44.4     44583  25220
1405    17 14845            Clear Lake     386 32.7     52788  28234
1406    17 14923             Cleveland     232 43.3     54250  26023
1407    17 14936               Clifton    1178 39.9     72188  31837
1408    17 15001               Clinton    6982 39.0     46741  27368
1409    17 15170             Coal City    4941 37.8     75108  36011
1410    17 15209               Coalton     337 41.4     63750  28470
1411    17 64044                Ridott     170 45.5     41932  24559
1412    17 64083              Riggston      15 64.1        NA     NA
1413    17 64094                 Riley       0   NA        NA     NA
1414    17 64135              Ringwood     735 47.9    124500  47446
1415    17 64148                   Rio     206 47.9     62500  25711
1416    17 64174                Ripley      48 64.3     26250  18996
1417    17 64239               Ritchie     164 55.8     54402  28196
1418    17 64278             Riverdale   12530 32.2     38355  18987
1419    17 64304          River Forest   10883 40.8    125288  79929
1420    17 64343           River Grove    9957 36.2     63193  27547
1421    17 64421             Riverside    8748 44.2    120336  55882
1422    17 64486              Riverton    3464 42.4     34488  25678
1423    17 64538            Riverwoods    3536 54.7    231477  93770
1424    17 64590               Roanoke    1880 41.3     64167  29546
1425    17 64616               Robbins    5068 35.0     35815  16108
1426    17 64655               Roberts     470 40.3     36250  17989
1427    17 64707              Robinson    7431 40.0     45137  20646
1428    17 64746              Rochelle    9083 36.5     49413  26469
1429    17 64759             Rochester    3778 41.0     95463  39944
1430    17 64811            Rockbridge     215 31.8     56250  19059
1431    17 64837             Rock City     354 35.5     49750  24151
1432    17 64902              Rockdale    2416 31.1     44406  24474
1433    17 64928            Rock Falls    8914 39.5     44264  26743
1434    17 65000              Rockford  147441 37.8     44771  26500
1435    17 65078           Rock Island   37651 35.8     48120  25596
1436    17 65104   Rock Island Arsenal     353 43.1        NA  10375
1437    17 65130              Rockport      49 39.1        NA  26094
1438    17 65156               Rockton    7710 41.3     94109  36443
1439    17 65221              Rockwood      25 57.3     49375  24952
1440    17 65338       Rolling Meadows   23288 38.0     78609  37478
1441    17 65403                  Rome    1394 44.5     64868  29124
1442    17 65442            Romeoville   39644 34.6     85888  28334
1443    17 65481             Roodhouse    1656 42.6     38977  20551
1444    17 65611                Roscoe   10632 34.9     98750  37894
1445    17 65754             Rose Hill      83 39.5     35417  24252
1446    17 65806               Roselle   22744 40.6     92470  40589
1447    17 65819              Rosemont    4173 37.0     56432  28034
1448    17 65845             Roseville     852 49.8     42368  31342
1449    17 65884      Rosewood Heights    3990 42.3     80661  35062
1450    17 65897             Rosiclare    1020 49.1     38750  18838
1451    17 64018               Ridgway     831 42.3     39575  30635
1452    17 65962             Rossville    1152 37.7     45625  21882
1453    17 66027            Round Lake   18235 37.3     82550  33471
1454    17 66040      Round Lake Beach   27313 33.5     77207  27939
1455    17 66053    Round Lake Heights    3009 31.4     74286  24854
1456    17 66066       Round Lake Park    7744 42.7     48809  23560
1457    17 66131                Roxana    1570 42.8     51923  32799
1458    17 66157                 Royal     370 40.4     75750  35455
1459    17 66196           Royal Lakes     282 56.7     19773  14263
1460    17 66209              Royalton    1107 49.4     33750  29733
1461    17 66287                  Ruma     442 40.2     78125  28863
1462    17 66339             Rushville    2248 47.2     41621  28735
1463    17 66404          Russellville      75 50.8     27143  25753
1464    17 66443               Rutland     279 38.9     43750  22763
1465    17 66534               Sadorus     357 53.6     49500  29109
1466    17 66599        Sailor Springs     114 53.5     63125  22834</code></pre>
</div>
</div>
<p>Answer the following questions with the “crime” and “loans” Google trends data and the ACS data.</p>
<ul>
<li>First, check how many cities don’t appear in both data sets, i.e.&nbsp;cannot be matched. Then, create a new data set by joining the Google Trends and the ACS data. Keep only cities that appear in both data sets.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Fetch Google trends data</span></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>acs_cities <span class="ot">&lt;-</span> <span class="fu">unique</span>(acs_il<span class="sc">$</span>location)</span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>gtrends_cities <span class="ot">&lt;-</span> <span class="fu">unique</span>(interest_by_city<span class="sc">$</span>location)</span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>unmatched_cities <span class="ot">&lt;-</span> <span class="fu">setdiff</span>(acs_cities, gtrends_cities)</span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(unmatched_cities)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Coatsburg"    "Cobden"       "Colchester"   "Coleta"       "Colfax"      
[6] "Collinsville"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>num_unmatched <span class="ot">&lt;-</span> <span class="fu">length</span>(unmatched_cities)</span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>num_unmatched</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1123</code></pre>
</div>
</div>
<p><em>There are</em> <code>num_unmatched</code> <em>cities don’t appear in both data sets.</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a new data set by joining the Google Trends and the ACS data</span></span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Keep </span></span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>merge_both <span class="ot">&lt;-</span> <span class="fu">inner_join</span>(acs_il, interest_by_city, <span class="at">by =</span> <span class="st">"location"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in inner_join(acs_il, interest_by_city, by = "location"): Detected an unexpected many-to-many relationship between `x` and `y`.
ℹ Row 95 of `x` matches multiple rows in `y`.
ℹ Row 374 of `y` matches multiple rows in `x`.
ℹ If a many-to-many relationship is expected, set `relationship =
  "many-to-many"` to silence this warning.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>merge_both</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    state place              location    pop  age hh_income income hits keyword
1      17 15352               Coffeen    640 33.4     35781  26697   NA   crime
2      17 15664                Colona   5307 43.1     64643  33759   NA   crime
3      17 16613          Coulterville    881 52.5     39688  24132   NA   loans
4      17 16691    Country Club Hills  16564 40.9     70306  30318   67   loans
5      17 17055                Cowden    538 38.0     33250  18309   NA   loans
6      17 17185            Crainville   1372 40.6     59643  32729   NA   crime
7      17 17458            Crest Hill  20388 38.4     58462  25439   54   loans
8      17 17549           Creve Coeur   5074 35.4     46250  33670   NA   crime
9      17 17783            Crossville    799 37.9     33894  21620   NA   loans
10     17 17991                  Cuba   1066 48.3     33672  25716   NA   crime
11     17 18147                Curran    212 44.5     49063  24525   NA   crime
12     17 18225                Cutler    429 39.1     44531  20896   NA   loans
13     17 18251               Cypress    216 35.2     37500  18240   NA   loans
14     17 18446           Dalton City    717 30.0     54875  23911   NA   loans
15     17 18472          Damiansville    566 33.7     70375  34250   NA   loans
16     17 18498              Danforth    574 50.4     40278  21980   NA   loans
17     17 18563              Danville  30969 37.6     37328  22247   65   loans
18     17 67372         Sammons Point    207 42.4     54750  23926   NA   loans
19     17 67769          Sauk Village  10319 30.6     46061  18976   57   loans
20     17 67912              Saybrook    721 41.2     50966  25175   NA   crime
21     17 68640                Seneca   2534 34.8     74907  34832   NA   crime
22     17 68679                Serena    137 15.5        NA   8431   NA   loans
23     17 68705                Sesser   1702 40.8     54375  24785   NA   crime
24     17 68705                Sesser   1702 40.8     54375  24785   NA   loans
25     17 68991               Shannon    745 45.0     52500  30005   NA   crime
26     17 69147             Sheffield    828 44.5     48854  27810   NA   crime
27     17 69147             Sheffield    828 44.5     48854  27810   NA   loans
28     17 69186           Shelbyville   4198 46.5     50485  26692   NA   crime
29     17 69524                Shiloh  13465 39.8     87076  45661   NA   crime
30     17 69563               Shipman    616 35.5     46944  21889   NA   crime
31     17 18745                Dawson    705 34.7     56964  26873   NA   crime
32     17 18745                Dawson    705 34.7     56964  26873   NA   loans
33     17 19616               De Soto   1652 41.2     44744  23418   NA   loans
34     17 19915             Dieterich    726 37.4     61417  33319   NA   loans
35     17 20149               Dixmoor   3570 29.9     44757  16349   NA   loans
36     17 20292                Dolton  22487 36.7     50237  22135   76   loans
37     17 20643                 Downs   1417 33.7     92288  40745   NA   crime
38     17 21605   East Cape Girardeau    429 39.8     37875  17811   NA   loans
39     17 22021             East Lynn    379 15.1    200771  40635   NA   loans
40     17 70226            Smithfield    181 60.3     43750  26699   NA   loans
41     17 70252              Smithton   4019 43.6     88879  38748   NA   crime
42     17 70525               Sorento    499 41.9     33750  16975   NA   crime
43     17 70629 South Chicago Heights   4042 34.8     45321  19323   NA   crime
44     17 70629 South Chicago Heights   4042 34.8     45321  19323   NA   loans
45     17 70850         South Holland  21451 42.7     66859  28649   66   loans
46     17 70889    South Jacksonville   3132 46.0     53580  30255   59   crime
47     17 70889    South Jacksonville   3132 46.0     53580  30255   75   loans
48     17 71370      South Wilmington    702 35.7     75156  35967   NA   crime
49     17 72052          Spring Grove   5672 40.2    129191  50235   NA   crime
50     17 72520                Steger   9289 41.5     49492  26564   64   crime
51     17 72520                Steger   9289 41.5     49492  26564   62   loans
52     17 72702       Stillman Valley   1348 34.1     68958  27400   NA   crime
53     17 72780              Stockton   1656 44.3     43295  26501   NA   crime
54     17 72949            Stonington    671 44.3     56094  30187   NA   loans
55     17 73040             Strasburg    528 46.2     61964  29238   NA   loans
56     17 73157            Streamwood  39917 38.2     88917  31692   78   crime
57     17 73261           Stronghurst   1066 35.4     51979  20945   NA   crime
58     17 23009              Eldorado   4000 43.3     37528  21625   NA   loans
59     17 23165             Elizabeth    906 42.8     36250  30137   NA   loans
60     17 23373              Elkville    796 46.0     40063  22013   NA   loans
61     17 23503           Ellis Grove    316 36.9     53750  26186   NA   crime
62     17 23737               El Paso   2854 36.9     61442  28225   NA   loans
63     17 23776                 Elsah    701 20.7     97500  13499   NA   crime
64     17 24166                Energy   1208 45.4     50326  25984   NA   loans
65     17 24179               Enfield    541 41.3     40469  24604   NA   loans
66     17 24348              Equality    442 46.8     41563  23047   NA   crime
67     17 24348              Equality    442 46.8     41563  23047   NA   loans
68     17 24452                 Essex   1083 32.7     81458  35914   NA   loans
69     17 24634        Evergreen Park  19290 41.1     79396  35328   61   loans
70     17 25375                Farina    749 38.2     35313  23298   NA   loans
71     17 25440          Farmersville    867 30.7     56875  23326   NA   loans
72     17 25531            Farmington   1939 34.8     51335  26332   NA   crime
73     17 73703                Sumner   2916 34.2     36298   7303   NA   loans
74     17 74444               Tamaroa    740 37.4     43125  22924   NA   loans
75     17 74457                 Tamms    702 45.0     45227  18068   NA   loans
76     17 74561        Taylor Springs    587 59.1     37981  26738   NA   crime
77     17 74561        Taylor Springs    587 59.1     37981  26738   NA   loans
78     17 75107            Thomasboro   1036 47.1     55795  35869   NA   loans
79     17 75549              Tiskilwa    693 46.6     41071  22328   NA   crime
80     17 75653                Toluca   1287 50.1     57188  31428   NA   crime
81     17 75783                Toulon   1291 44.7     39509  24220   NA   crime
82     17 75822               Towanda    341 50.9     59250  37541   NA   crime
83     17 75822               Towanda    341 50.9     59250  37541   NA   loans
84     17 76199                  Troy  10278 37.1     76672  34051   NA   crime
85     17 76225            Troy Grove    210 34.4     73333  34519   NA   loans
86     17 76706                 Union    680 33.2     95655  40315   NA   crime
87     17 76706                 Union    680 33.2     95655  40315   NA   loans
88     17 26077              Fillmore    296 48.5     48125  26008   NA   crime
89     17 26116               Findlay    703 49.0     49432  25208   NA   crime
90     17 26233               Fithian    536 55.7     60313  28239   NA   crime
91     17 26233               Fithian    536 55.7     60313  28239   NA   loans
92     17 26350             Flat Rock    464 34.7     41071  22659   NA   crime
93     17 26710          Ford Heights   2705 39.0     37083  17494   80   loans
94     17 27026               Forrest    995 40.2     61058  31216   NA   crime
95     17 27065             Forreston   1392 37.1     57668  26046   NA   loans
96     17 27624             Frankfort  19166 41.9    140731  51278   56   crime
97     17 27702         Franklin Park  17779 37.3     67755  26547   NA   crime
98     17 27884              Freeport  23930 41.9     39787  25218   59   crime
99     17 28144                Fulton   3255 46.0     49375  31157   NA   loans
100    17 28261               Galatia   1095 38.1     48828  30547   NA   loans
101    17 28638               Gardner   1429 42.9     67441  35716   NA   crime
102    17 28638               Gardner   1429 42.9     67441  35716   NA   loans
103    17 28950            Georgetown    468 35.4     60060  26006   NA   loans
104    17 28963            Georgetown   3224 45.5     49708  28868   NA   loans
105    17 29041            Germantown   1279 41.1     61364  31878   NA   crime
106    17 29080      Germantown Hills   3421 41.9    120057  44738   62   crime
107    17 29093         German Valley    565 32.5     61250  24810   NA   crime
108    17 29125           Gibson City   3340 43.8     44544  28872   NA   loans
109    17 76935       University Park   7224 30.6     62258  23354   63   loans
110    17 77460      Venetian Village   2561 37.8     82631  32825   NA   crime
111    17 77473                Venice   2040 40.4     28681  18348   NA   crime
112    17 77473                Venice   2040 40.4     28681  18348   NA   loans
113    17 77551             Vermilion    289 38.0     60156  20877   NA   crime
114    17 77720            Versailles    424 37.9     49375  24881   NA   loans
115    17 77811              Victoria    224 53.0     40250  29222   NA   loans
116    17 78149                Virden   3444 41.2     61726  28533   55   loans
117    17 78201              Virginia   1382 39.9     48625  26824   NA   crime
118    17 78773               Wapella    474 43.6     60625  29993   NA   loans
119    17 78942                Warsaw   1600 45.4     53920  31066   NA   crime
120    17 78942                Warsaw   1600 45.4     53920  31066   NA   loans
121    17 29145               Gifford    920 48.9     63472  34517   NA   loans
122    17 29431             Gladstone    145 58.5     30250  26854   NA   loans
123    17 29483              Glasford    897 33.7     59886  26288   NA   crime
124    17 29483              Glasford    897 33.7     59886  26288   NA   loans
125    17 30029              Glenwood   8846 38.0     64857  25949   55   crime
126    17 30445             Goodfield    977 41.4     89167  40693   NA   crime
127    17 30588                Gorham    263 24.7     27188  12378   NA   crime
128    17 30770           Grand Tower    589 36.3     48500  20423   NA   crime
129    17 31017             Granville   1449 43.3     58382  31511   NA   loans
130    17 31368            Greenfield   1481 39.0     50139  24068   NA   loans
131    17 31667             Greenwood    352 44.4     99167  53496   NA   loans
132    17 32499               Hammond    530 41.6     62750  27108   NA   crime
133    17 80073             West City    615 34.0     37813  20148   NA   loans
134    17 80242       Western Springs  13247 42.3    184412  80877   55   crime
135    17 80333        West Frankfort   7597 41.9     30938  18268   58   loans
136    17 80736           West Peoria   4510 40.5     47984  28340   NA   loans
137    17 81074               Wheeler    178 32.3     35625  15536   NA   crime
138    17 81191            White City    197 45.3     54063  29857   NA   crime
139    17 81256            White Hall   2356 46.0     42596  23208   NA   crime
140    17 82010           Willow Hill    266 28.5     29306  13679   NA   loans
141    17 82218           Wilsonville    612 40.2     48500  23052   NA   crime
142    17 82218           Wilsonville    612 40.2     48500  23052   NA   loans
143    17 79813                Wenona   1077 34.9     35179  24417   NA   crime
144    17 79813                Wenona   1077 34.9     35179  24417   NA   loans
145    17 82309               Windsor    809 49.2     46382  28379   NA   crime
146    17 82309               Windsor    809 49.2     46382  28379   NA   loans
147    17 82322               Windsor   1150 39.8     48750  22894   NA   crime
148    17 82322               Windsor   1150 39.8     48750  22894   NA   loans
149    17 82543               Winslow    324 42.0     53125  28373   NA   loans
150    17 82686       Winthrop Harbor   6675 48.5     82500  39723   NA   crime
151    17 82725                  Witt    613 47.4     36250  22466   NA   crime
152    17 82725                  Witt    613 47.4     36250  22466   NA   loans
153    17 83102              Woodland    338 36.5     48958  18471   NA   crime
154    17 83206              Woodlawn    555 35.2     63750  23635   NA   loans
155    17 32564               Hampton   2074 38.9     73304  36277   NA   crime
156    17 32564               Hampton   2074 38.9     73304  36277   NA   loans
157    17 32707               Hanover    713 52.0     42941  24451   NA   loans
158    17 32746          Hanover Park  37811 34.2     77367  26823   NA   crime
159    17 33136            Harrisburg   8578 38.1     34335  20753   NA   crime
160    17 33227            Harristown   1294 47.1     49542  26961   62   crime
161    17 33279              Hartford   1769 35.9     38580  24088   NA   crime
162    17 33279              Hartford   1769 35.9     38580  24088   NA   loans
163    17 33383                Harvey  24295 34.5     32635  18919   61   loans
164    17 33695           Hazel Crest  13918 34.5     55010  29372   72   loans
165    17 34098              Hennepin    835 44.4     64750  33716   NA   crime
166    17 34137               Henning    258 40.2     65625  21226   NA   loans
167    17 34163                 Henry   2352 46.3     49375  25927   NA   crime
168    17 34163                 Henry   2352 46.3     49375  25927   NA   loans
169    17 34449              Heyworth   3212 38.5     71771  29109   NA   crime
170    17 34982             Hillcrest   1672 38.8     62656  24707   NA   loans
171    17 35073             Hillsdale    531 42.3     75625  26316   NA   crime
172    17 35073             Hillsdale    531 42.3     75625  26316   NA   loans
173    17 35814                 Homer   1320 30.9     65347  44604   NA   loans
174    17 83622                Wyanet   1227 37.3     47454  22490   NA   crime
175    17 83687               Wyoming   1395 43.5     48472  29448   NA   crime
176    17 83739                 Xenia    365 35.5     44167  21818   NA   crime
177    17 36516                  Hull    390 43.0     47292  24101   NA   loans
178    17 36542              Humboldt    446 41.3     39875  22972   NA   crime
179    17 36542              Humboldt    446 41.3     39875  22972   NA   loans
180    17 36841           Hutsonville    568 40.7     46875  23468   NA   loans
181    17 37127            Illiopolis    767 41.8     64375  28855   NA   loans
182    17 37179                   Ina   2243 40.3     43636   4800   NA   crime
183    17 37179                   Ina   2243 40.3     43636   4800   NA   loans
184    17 37621                  Iola     91 27.9     50000  19992   NA   crime
185    17 37712              Iroquois    287 38.3     61964  25151   NA   loans
186    17 37738                Irving    340 43.2     24625  17624   NA   crime
187    17 37738                Irving    340 43.2     24625  17624   63   loans
188    17 37998              Ivesdale    250 39.9     51477  25204   NA   crime
189    17 38323        Jeffersonville    333 37.7     39063  20040   NA   crime
190    17 38635             Jonesboro   1772 40.3     37355  24126   NA   loans
191    17 38778              Junction     82 51.1     29464  25451   NA   crime
192    17 38830               Justice  12677 32.0     57523  27526   NA   crime
193    17 38869                  Kane    244 44.5     31875  16731   NA   loans
194    17 38986                Kansas    771 44.5     36375  29752   NA   loans
195    17 39077                Karnak    473 34.1     35521  15376   NA   crime
196    17 39298            Keithsburg    524 50.4     37143  30202   NA   loans
197    17 39857             Kilbourne    350 39.6     33750  17228   NA   loans
198    17 40052              Kingston    107 31.8        NA  17697   NA   loans
199    17 40065              Kingston   1183 37.3     84375  30270   NA   loans
200    17 40091        Kingston Mines    240 36.0     51250  22852   NA   crime
201    17 40182              Kirkwood    742 40.8     51094  32024   NA   crime
202    17 40182              Kirkwood    742 40.8     51094  32024   NA   loans
203    17 40598                  Ladd   1242 41.7     59737  29588   NA   crime
204    17 40767             La Grange  15555 42.3    122629  60162   NA   crime
205    17 40793        La Grange Park  13129 39.9    107945  49794   57   crime
206    17 40832              La Harpe   1318 53.0     37361  25743   NA   loans
207    17 42028               Lansing  27614 40.2     57659  28708   61   loans
208    17 42405         Lawrenceville   4365 40.7     41004  24600   NA   loans
209    17 42496               Lebanon   4443 29.8     61298  27592  100   crime
210    17 42860              Lenzburg    411 41.4     40000  22876   NA   crime
211    17 44056             Littleton    149 52.8     52250  27933   NA   crime
212    17 41794             La Moille    801 37.3     60288  28568   NA   loans
213    17 44160            Livingston    789 43.7     56500  29447   NA   crime
214    17 44160            Livingston    789 43.7     56500  29447   NA   loans
215    17 44446          London Mills    326 46.3     43750  34731   NA   crime
216    17 44550             Long Lake   3065 36.4     95764  28627  100   loans
217    17 44719               Loraine    412 45.7     49258  22935   NA   crime
218    17 45278                Lyndon    604 41.4     37344  22859   NA   crime
219    17 45278                Lyndon    604 41.4     37344  22859   NA   loans
220    17 45811                McLean    808 39.8     69250  33259   NA   crime
221    17 45811                McLean    808 39.8     69250  33259   NA   loans
222    17 45889                Macomb  17658 27.2     34467  23090   76   crime
223    17 45993               Madison   2941 45.8     30592  19262   70   loans
224    17 46487             Mansfield   1006 42.5     60962  31208   NA   crime
225    17 46864                Marine    994 44.3     63750  29434   NA   crime
226    17 47007               Markham  12401 32.0     42050  19580   55   loans
227    17 47423             Mascoutah   8454 34.8     74937  29884   57   crime
228    17 47475            Mason City   2342 46.3     40714  26546   NA   crime
229    17 47475            Mason City   2342 46.3     40714  26546   NA   loans
230    17 47540              Matteson  19374 44.0     84611  38867   68   loans
231    17 48307                Mendon   1092 37.8     56000  23663   NA   loans
232    17 48359             Menominee    237 53.4     95000  38157   NA   crime
233    17 48892            Midlothian  14464 39.7     61067  29855   NA   loans
234    17 49048               Milford   1230 44.4     47830  23502   NA   loans
235    17 49386             Millstadt   3882 42.8     78379  40586   59   crime
236    17 49555                Minier   1090 41.5     59886  34513   NA   loans
237    17 47449                 Mason    243 45.5     53750  22940   NA   crime
238    17 49945                 Monee   5080 37.7     76638  39174   58   loans
239    17 50010              Monmouth   8837 36.5     50740  23687   62   crime
240    17 50543         Morrisonville   1123 37.0     64219  31368   NA   crime
241    17 50647          Morton Grove  22937 47.2     87063  40923  100   crime
242    17 00672                Alexis    862 39.9     59000  26018   NA   crime
243    17 00880              Allerton    267 42.8     60208  24257   NA   crime
244    17 00880              Allerton    267 42.8     60208  24257   NA   loans
245    17 00958               Alorton   2077 27.9     19764  15781   NA   crime
246    17 00958               Alorton   2077 27.9     19764  15781   NA   loans
247    17 01205             Alto Pass    342 50.0     50000  23844   NA   crime
248    17 01205             Alto Pass    342 50.0     50000  23844   NA   loans
249    17 01242                 Alvin    267 41.4     58056  19857   NA   crime
250    17 01543                  Anna   4149 42.4     36303  22455   95   crime
251    17 01569               Annawan    825 41.7     51250  29501   NA   crime
252    17 01673           Apple River    333 34.5     42778  21763   NA   crime
253    17 02102             Arlington    211 46.5     73750  28693   NA   crime
254    17 50751            Mound City    777 37.9     41364  16196   NA   crime
255    17 50751            Mound City    777 37.9     41364  16196   NA   loans
256    17 50829          Mount Auburn    644 38.7     49904  22930   NA   loans
257    17 50920           Mount Clare    370 57.3     31250  21231   NA   crime
258    17 51024           Mount Olive   2052 45.9     42685  27199   NA   loans
259    17 51154        Mount Sterling   2220 35.0     45536  24433   NA   loans
260    17 51180          Mount Vernon  14769 38.6     42194  26558   60   loans
261    17 51232              Moweaqua   2215 36.9     61250  26487   NA   crime
262    17 51284        Mulberry Grove    847 35.2     40800  19672   NA   crime
263    17 51479           Murrayville    582 43.1     50938  23071   NA   loans
264    17 51661                Naples    143 47.4        NA  31416   NA   crime
265    17 51700             Nashville   3076 43.6     56019  29433   NA   crime
266    17 51791                Nauvoo    948 38.6     50938  20386   NA   crime
267    17 51791                Nauvoo    948 38.6     50938  20386   NA   loans
268    17 51986                 Neoga   1579 36.5     50694  23353   NA   loans
269    17 52142             New Baden   3150 47.1     79412  43061   NA   crime
270    17 52506             New Haven    423 41.9     39375  20702   NA   crime
271    17 52623                Newman    777 61.2     58125  27455   NA   crime
272    17 02258            Aroma Park    692 47.0     48750  25985   NA   crime
273    17 02414                Arthur   2180 47.3     62250  29574   NA   crime
274    17 02609            Assumption   1153 37.2     46563  24281   NA   crime
275    17 02609            Assumption   1153 37.2     46563  24281   NA   loans
276    17 02635               Astoria   1154 32.6     38068  21425   NA   loans
277    17 02752               Atlanta   2156 35.5     55694  24863   NA   crime
278    17 02882                Atwood   1126 38.9     48750  25087   NA   crime
279    17 03207                  Avon    690 43.6     35833  22257   NA   crime
280    17 03207                  Avon    690 43.6     35833  22257   NA   loans
281    17 03454               Baldwin    292 30.0     39904  17501   NA   loans
282    17 03610           Bannockburn   1194 24.6    115833  54026   NA   crime
283    17 03948                 Barry   1698 36.2     45139  21451   NA   crime
284    17 03948                 Barry   1698 36.2     45139  21451   NA   loans
285    17 04039           Bartonville   6174 41.5     56515  28268   59   loans
286    17 04303            Beach Park  13433 35.4     71250  28292   69   loans
287    17 04403                Beason    201 35.8     39583  19737   NA   loans
288    17 04533            Beckemeyer   1054 44.3     51719  23015   NA   loans
289    17 04585               Beecher   4443 42.0     86576  34290   NA   crime
290    17 04715               Belknap    142 50.1     42500  20737   NA   crime
291    17 04806            Belle Rive    378 38.8     45192  27686   NA   crime
292    17 04845            Belleville  41256 38.1     52843  27896   NA   crime
293    17 53234                Normal  54699 25.2     58381  29948   56   crime
294    17 53403           Norris City   1325 36.3     33250  19026   NA   crime
295    17 53442          North Aurora  18089 41.0     90315  40697   NA   loans
296    17 53585            North City    683 55.3     57500  32945   NA   loans
297    17 54092           North Pekin   1680 43.5     64866  31070   NA   crime
298    17 54144       North Riverside   6460 39.3     55879  35963   77   crime
299    17 54586               Oakdale    291 38.0     80893  28628   NA   loans
300    17 54885              Oak Park  52102 40.6     96945  58262   57   crime
301    17 55002               Oakwood   1514 33.8     45602  22833   NA   crime
302    17 55002               Oakwood   1514 33.8     45602  22833   NA   loans
303    17 55171                 Odell    869 36.7     44792  32884   NA   crime
304    17 55899               Olmsted    380 34.8     22500  19210   NA   loans
305    17 55938        Olympia Fields   5028 46.7     93350  46882   71   loans
306    17 56159                Oneida    778 41.5     56705  25551   NA   loans
307    17 05144                Bement   1490 44.0     47917  26722   NA   crime
308    17 05144                Bement   1490 44.0     47917  26722   NA   loans
309    17 05209                 Benld   1594 38.3     41786  20221   NA   loans
310    17 05599              Bethalto   9258 40.6     66834  32225   NA   crime
311    17 05898            Biggsville    438 35.7     87143  73889   NA   crime
312    17 05898            Biggsville    438 35.7     87143  73889   NA   loans
313    17 06184              Bismarck    536 45.0     58393  24658   NA   loans
314    17 06756            Blue Mound   1135 37.6     49877  25117   NA   loans
315    17 06899                Bluffs    773 39.1     62656  25259   NA   crime
316    17 06899                Bluffs    773 39.1     62656  25259   NA   loans
317    17 07640            Braceville    886 34.7     76667  29773   NA   loans
318    17 07692              Bradford    673 45.9     53333  24184   NA   crime
319    17 08524               Brocton    335 48.6     51591  23881   NA   loans
320    17 56536                Orient    434 46.2     35234  18055   NA   crime
321    17 56887                Oswego  35470 37.0     97330  37053   NA   crime
322    17 57277             Palestine   1200 47.5     41700  24531   NA   crime
323    17 57329               Palmyra    647 43.7     31563  21406   NA   crime
324    17 57472                  Pana   5338 39.8     47701  23692   NA   loans
325    17 57732           Park Forest  20715 39.4     56393  26078   62   loans
326    17 58226               Paw Paw    999 34.8     51696  25256   NA   crime
327    17 58226               Paw Paw    999 34.8     51696  25256   NA   loans
328    17 59104                 Percy   1110 23.8     36163  15800   NA   loans
329    17 59709               Pierron    393 52.3     70313  29822   NA   loans
330    17 08992            Brownstown    839 33.9     47171  28772   NA   crime
331    17 09447         Buffalo Grove  40804 41.5    117921  53787   NA   crime
332    17 09447         Buffalo Grove  40804 41.5    117921  53787   59   loans
333    17 09551              Buncombe    283 23.8     45000  18786   NA   crime
334    17 09577           Bunker Hill   1468 42.7     53606  25257   83   crime
335    17 09759            Burlington    514 39.0     80833  43425   NA   crime
336    17 09759            Burlington    514 39.0     80833  43425   NA   loans
337    17 09798               Burnham   4121 38.1     46382  24430   NA   loans
338    17 10149                Butler    269 35.7     44091  17052   NA   crime
339    17 10240                 Byron   3607 35.7     66607  30694   78   crime
340    17 10370               Cahokia  14035 32.4     30299  16769   66   crime
341    17 10370               Cahokia  14035 32.4     30299  16769   65   loans
342    17 10448               Calhoun    149 41.7     40625  31054   NA   loans
343    17 10487          Calumet City  36229 36.9     50640  23688   69   loans
344    17 10591               Camargo    550 46.9     60469  25883   NA   crime
345    17 10643             Cambridge   2173 40.9     66250  28932   NA   loans
346    17 10773         Campbell Hill    292 36.7     58125  26327   NA   crime
347    17 11007                Canton  13600 44.0     46362  30144   56   loans
348    17 11150          Carbon Cliff   1937 34.8     37500  20198   NA   loans
349    17 11163            Carbondale  25400 25.0     24093  21878   NA   loans
350    17 60222            Pittsfield   4215 44.8     38573  25590   NA   crime
351    17 60222            Pittsfield   4215 44.8     38573  25590   NA   loans
352    17 60391            Plattville    190 43.0     87083  40353   NA   loans
353    17 60833              Plymouth    441 50.8     47083  26386   NA   crime
354    17 61080             Pontoosuc    109 35.8     42500  22224   NA   loans
355    17 61223            Port Byron   2028 38.6     81618  38387   62   crime
356    17 61925           Princeville   1684 41.4     58542  25766   NA   crime
357    17 62211               Pulaski    257 50.6     30972  14006   NA   loans
358    17 62627                Ramsey    871 38.6     31875  22526   NA   crime
359    17 62627                Ramsey    871 38.6     31875  22526   NA   loans
360    17 62757                Ransom    355 38.1     63750  30877   NA   crime
361    17 60144    Pistakee Highlands   3302 41.5     75064  36572   NA   crime
362    17 11397         Carrier Mills   1819 40.0     42711  26653   NA   loans
363    17 11644            Caseyville   4203 39.0     51610  22927   59   loans
364    17 12203           Centreville   4946 42.8     22098  16349   68   loans
365    17 12268           Cerro Gordo   1275 36.0     57750  25923   NA   crime
366    17 12268           Cerro Gordo   1275 36.0     57750  25923   NA   loans
367    17 12450         Chandlerville    430 46.4     38750  33350   NA   crime
368    17 12450         Chandlerville    430 46.4     38750  33350   NA   loans
369    17 12528                Chapin    536 35.3     58450  28551   NA   crime
370    17 12801              Chebanse   1208 36.4     73239  31063   NA   crime
371    17 12970                Cherry    479 49.9     49583  27386   NA   crime
372    17 14273              Chrisman   1632 37.8     51042  26336   NA   crime
373    17 14273              Chrisman   1632 37.8     51042  26336   NA   loans
374    17 14286           Christopher   2601 39.1     33184  20279   NA   loans
375    17 14572       Clarendon Hills   8834 41.3    103486  67540   NA   loans
376    17 14715             Clay City    896 31.9     45104  23317   NA   loans
377    17 14767               Clayton    585 44.4     44583  25220   NA   loans
378    17 15170             Coal City   4941 37.8     75108  36011   79   loans
379    17 64135              Ringwood    735 47.9    124500  47446   NA   crime
380    17 64278             Riverdale  12530 32.2     38355  18987   74   loans
381    17 64304          River Forest  10883 40.8    125288  79929   NA   crime
382    17 64590               Roanoke   1880 41.3     64167  29546   NA   crime
383    17 64616               Robbins   5068 35.0     35815  16108   81   loans
384    17 65000              Rockford 147441 37.8     44771  26500   61   crime
385    17 65104   Rock Island Arsenal    353 43.1        NA  10375   NA   loans
386    17 65481             Roodhouse   1656 42.6     38977  20551   NA   loans
387    17 65754             Rose Hill     83 39.5     35417  24252   NA   loans
388    17 65819              Rosemont   4173 37.0     56432  28034   85   loans
389    17 65897             Rosiclare   1020 49.1     38750  18838   NA   crime
390    17 64018               Ridgway    831 42.3     39575  30635   NA   crime
391    17 66196           Royal Lakes    282 56.7     19773  14263   NA   crime
392    17 66339             Rushville   2248 47.2     41621  28735   NA   crime
393    17 66443               Rutland    279 38.9     43750  22763   NA   loans
      geo gprop
1   US-IL   web
2   US-IL   web
3   US-IL   web
4   US-IL   web
5   US-IL   web
6   US-IL   web
7   US-IL   web
8   US-IL   web
9   US-IL   web
10  US-IL   web
11  US-IL   web
12  US-IL   web
13  US-IL   web
14  US-IL   web
15  US-IL   web
16  US-IL   web
17  US-IL   web
18  US-IL   web
19  US-IL   web
20  US-IL   web
21  US-IL   web
22  US-IL   web
23  US-IL   web
24  US-IL   web
25  US-IL   web
26  US-IL   web
27  US-IL   web
28  US-IL   web
29  US-IL   web
30  US-IL   web
31  US-IL   web
32  US-IL   web
33  US-IL   web
34  US-IL   web
35  US-IL   web
36  US-IL   web
37  US-IL   web
38  US-IL   web
39  US-IL   web
40  US-IL   web
41  US-IL   web
42  US-IL   web
43  US-IL   web
44  US-IL   web
45  US-IL   web
46  US-IL   web
47  US-IL   web
48  US-IL   web
49  US-IL   web
50  US-IL   web
51  US-IL   web
52  US-IL   web
53  US-IL   web
54  US-IL   web
55  US-IL   web
56  US-IL   web
57  US-IL   web
58  US-IL   web
59  US-IL   web
60  US-IL   web
61  US-IL   web
62  US-IL   web
63  US-IL   web
64  US-IL   web
65  US-IL   web
66  US-IL   web
67  US-IL   web
68  US-IL   web
69  US-IL   web
70  US-IL   web
71  US-IL   web
72  US-IL   web
73  US-IL   web
74  US-IL   web
75  US-IL   web
76  US-IL   web
77  US-IL   web
78  US-IL   web
79  US-IL   web
80  US-IL   web
81  US-IL   web
82  US-IL   web
83  US-IL   web
84  US-IL   web
85  US-IL   web
86  US-IL   web
87  US-IL   web
88  US-IL   web
89  US-IL   web
90  US-IL   web
91  US-IL   web
92  US-IL   web
93  US-IL   web
94  US-IL   web
95  US-IL   web
96  US-IL   web
97  US-IL   web
98  US-IL   web
99  US-IL   web
100 US-IL   web
101 US-IL   web
102 US-IL   web
103 US-IL   web
104 US-IL   web
105 US-IL   web
106 US-IL   web
107 US-IL   web
108 US-IL   web
109 US-IL   web
110 US-IL   web
111 US-IL   web
112 US-IL   web
113 US-IL   web
114 US-IL   web
115 US-IL   web
116 US-IL   web
117 US-IL   web
118 US-IL   web
119 US-IL   web
120 US-IL   web
121 US-IL   web
122 US-IL   web
123 US-IL   web
124 US-IL   web
125 US-IL   web
126 US-IL   web
127 US-IL   web
128 US-IL   web
129 US-IL   web
130 US-IL   web
131 US-IL   web
132 US-IL   web
133 US-IL   web
134 US-IL   web
135 US-IL   web
136 US-IL   web
137 US-IL   web
138 US-IL   web
139 US-IL   web
140 US-IL   web
141 US-IL   web
142 US-IL   web
143 US-IL   web
144 US-IL   web
145 US-IL   web
146 US-IL   web
147 US-IL   web
148 US-IL   web
149 US-IL   web
150 US-IL   web
151 US-IL   web
152 US-IL   web
153 US-IL   web
154 US-IL   web
155 US-IL   web
156 US-IL   web
157 US-IL   web
158 US-IL   web
159 US-IL   web
160 US-IL   web
161 US-IL   web
162 US-IL   web
163 US-IL   web
164 US-IL   web
165 US-IL   web
166 US-IL   web
167 US-IL   web
168 US-IL   web
169 US-IL   web
170 US-IL   web
171 US-IL   web
172 US-IL   web
173 US-IL   web
174 US-IL   web
175 US-IL   web
176 US-IL   web
177 US-IL   web
178 US-IL   web
179 US-IL   web
180 US-IL   web
181 US-IL   web
182 US-IL   web
183 US-IL   web
184 US-IL   web
185 US-IL   web
186 US-IL   web
187 US-IL   web
188 US-IL   web
189 US-IL   web
190 US-IL   web
191 US-IL   web
192 US-IL   web
193 US-IL   web
194 US-IL   web
195 US-IL   web
196 US-IL   web
197 US-IL   web
198 US-IL   web
199 US-IL   web
200 US-IL   web
201 US-IL   web
202 US-IL   web
203 US-IL   web
204 US-IL   web
205 US-IL   web
206 US-IL   web
207 US-IL   web
208 US-IL   web
209 US-IL   web
210 US-IL   web
211 US-IL   web
212 US-IL   web
213 US-IL   web
214 US-IL   web
215 US-IL   web
216 US-IL   web
217 US-IL   web
218 US-IL   web
219 US-IL   web
220 US-IL   web
221 US-IL   web
222 US-IL   web
223 US-IL   web
224 US-IL   web
225 US-IL   web
226 US-IL   web
227 US-IL   web
228 US-IL   web
229 US-IL   web
230 US-IL   web
231 US-IL   web
232 US-IL   web
233 US-IL   web
234 US-IL   web
235 US-IL   web
236 US-IL   web
237 US-IL   web
238 US-IL   web
239 US-IL   web
240 US-IL   web
241 US-IL   web
242 US-IL   web
243 US-IL   web
244 US-IL   web
245 US-IL   web
246 US-IL   web
247 US-IL   web
248 US-IL   web
249 US-IL   web
250 US-IL   web
251 US-IL   web
252 US-IL   web
253 US-IL   web
254 US-IL   web
255 US-IL   web
256 US-IL   web
257 US-IL   web
258 US-IL   web
259 US-IL   web
260 US-IL   web
261 US-IL   web
262 US-IL   web
263 US-IL   web
264 US-IL   web
265 US-IL   web
266 US-IL   web
267 US-IL   web
268 US-IL   web
269 US-IL   web
270 US-IL   web
271 US-IL   web
272 US-IL   web
273 US-IL   web
274 US-IL   web
275 US-IL   web
276 US-IL   web
277 US-IL   web
278 US-IL   web
279 US-IL   web
280 US-IL   web
281 US-IL   web
282 US-IL   web
283 US-IL   web
284 US-IL   web
285 US-IL   web
286 US-IL   web
287 US-IL   web
288 US-IL   web
289 US-IL   web
290 US-IL   web
291 US-IL   web
292 US-IL   web
293 US-IL   web
294 US-IL   web
295 US-IL   web
296 US-IL   web
297 US-IL   web
298 US-IL   web
299 US-IL   web
300 US-IL   web
301 US-IL   web
302 US-IL   web
303 US-IL   web
304 US-IL   web
305 US-IL   web
306 US-IL   web
307 US-IL   web
308 US-IL   web
309 US-IL   web
310 US-IL   web
311 US-IL   web
312 US-IL   web
313 US-IL   web
314 US-IL   web
315 US-IL   web
316 US-IL   web
317 US-IL   web
318 US-IL   web
319 US-IL   web
320 US-IL   web
321 US-IL   web
322 US-IL   web
323 US-IL   web
324 US-IL   web
325 US-IL   web
326 US-IL   web
327 US-IL   web
328 US-IL   web
329 US-IL   web
330 US-IL   web
331 US-IL   web
332 US-IL   web
333 US-IL   web
334 US-IL   web
335 US-IL   web
336 US-IL   web
337 US-IL   web
338 US-IL   web
339 US-IL   web
340 US-IL   web
341 US-IL   web
342 US-IL   web
343 US-IL   web
344 US-IL   web
345 US-IL   web
346 US-IL   web
347 US-IL   web
348 US-IL   web
349 US-IL   web
350 US-IL   web
351 US-IL   web
352 US-IL   web
353 US-IL   web
354 US-IL   web
355 US-IL   web
356 US-IL   web
357 US-IL   web
358 US-IL   web
359 US-IL   web
360 US-IL   web
361 US-IL   web
362 US-IL   web
363 US-IL   web
364 US-IL   web
365 US-IL   web
366 US-IL   web
367 US-IL   web
368 US-IL   web
369 US-IL   web
370 US-IL   web
371 US-IL   web
372 US-IL   web
373 US-IL   web
374 US-IL   web
375 US-IL   web
376 US-IL   web
377 US-IL   web
378 US-IL   web
379 US-IL   web
380 US-IL   web
381 US-IL   web
382 US-IL   web
383 US-IL   web
384 US-IL   web
385 US-IL   web
386 US-IL   web
387 US-IL   web
388 US-IL   web
389 US-IL   web
390 US-IL   web
391 US-IL   web
392 US-IL   web
393 US-IL   web</code></pre>
</div>
</div>
<ul>
<li><p>Compute the mean of the search popularity for both keywords for cities that have an above average median household income and for those that have an below average median household income. When building your pipe, start with creating the grouping variable and then proceed with the remaining tasks. What conclusions might you draw from this?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="co"># mean_keywords &lt;- merge_both %&gt;%</span></span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a><span class="co">#   mutate(income = ifelse(hh_income &gt; mean(hh_income, na.rm = TRUE), "Above Average", "Below Average")) %&gt;%</span></span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a><span class="co">#   group_by(income, keyword) %&gt;%</span></span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a><span class="co">#   summarise(mean_hits = mean(hits, na.rm = TRUE),</span></span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true" tabindex="-1"></a><span class="co">#             .groups = 'drop')</span></span>
<span id="cb54-6"><a href="#cb54-6" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb54-7"><a href="#cb54-7" aria-hidden="true" tabindex="-1"></a><span class="co"># mean_keywords</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a><span class="co"># #scatterplot of median household income vs. search popularity</span></span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a><span class="co"># ggplot(merge_both, aes(x = hh_income,</span></span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a><span class="co">#                        y = hits,</span></span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a><span class="co">#                        color = "red"") +</span></span>
<span id="cb55-7"><a href="#cb55-7" aria-hidden="true" tabindex="-1"></a><span class="co">#          geom_point() +</span></span>
<span id="cb55-8"><a href="#cb55-8" aria-hidden="true" tabindex="-1"></a><span class="co">#          labs(title = "Relationship between \nMedian Household Income and Search Popularity",</span></span>
<span id="cb55-9"><a href="#cb55-9" aria-hidden="true" tabindex="-1"></a><span class="co">#               x = "Median Household Income",</span></span>
<span id="cb55-10"><a href="#cb55-10" aria-hidden="true" tabindex="-1"></a><span class="co">#               y = "search Popularity"))</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Repeat the above steps using the covid data and the ACS data.</p>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>